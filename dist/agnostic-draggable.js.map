{"version":3,"file":"agnostic-draggable.js","sources":["../node_modules/lodash/isUndefined.js","../src/plugin/plugin.js","../node_modules/dom-helpers/esm/ownerDocument.js","../node_modules/dom-helpers/esm/addClass.js","../node_modules/dom-helpers/esm/hasClass.js","../node_modules/dom-helpers/esm/canUseDOM.js","../node_modules/dom-helpers/esm/addEventListener.js","../node_modules/dom-helpers/esm/getComputedStyle.js","../node_modules/dom-helpers/esm/ownerWindow.js","../node_modules/dom-helpers/esm/hyphenate.js","../node_modules/dom-helpers/esm/hyphenateStyle.js","../node_modules/dom-helpers/esm/isTransform.js","../node_modules/dom-helpers/esm/css.js","../node_modules/dom-helpers/esm/listen.js","../node_modules/dom-helpers/esm/removeEventListener.js","../node_modules/dom-helpers/esm/animationFrame.js","../node_modules/dom-helpers/esm/matches.js","../node_modules/dom-helpers/esm/closest.js","../node_modules/dom-helpers/esm/contains.js","../node_modules/dom-helpers/esm/childNodes.js","../node_modules/dom-helpers/esm/querySelectorAll.js","../node_modules/dom-helpers/esm/isDocument.js","../node_modules/dom-helpers/esm/isWindow.js","../node_modules/dom-helpers/esm/getScrollAccessor.js","../node_modules/dom-helpers/esm/scrollLeft.js","../node_modules/dom-helpers/esm/scrollTop.js","../node_modules/dom-helpers/esm/offset.js","../node_modules/dom-helpers/esm/height.js","../node_modules/dom-helpers/esm/offsetParent.js","../node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/dom-helpers/esm/removeClass.js","../node_modules/dom-helpers/esm/scrollParent.js","../node_modules/dom-helpers/esm/width.js","../src/event/abstract-event.js","../src/sensor/sensor-event.js","../src/sensor/mouse-event.js","../src/util/index.js","../node_modules/dom-helpers/esm/activeElement.js","../src/manager/manager.js","../src/plugin/auto-scroll.js","../src/plugin/axis-constraint.js","../src/sortable/sortable-event.js","../src/util/constants.js","../src/plugin/connect-to-sortable.js","../src/plugin/containment-constraint.js","../src/plugin/grid-constraint.js","../src/plugin/stack-controller.js","../src/plugin/style-decorator.js","../src/sensor/sensor.js","../src/sensor/mouse-sensor.js","../node_modules/animejs/lib/anime.es.js","../node_modules/lodash/_arrayEach.js","../node_modules/lodash/_createBaseFor.js","../node_modules/lodash/_baseFor.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_root.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/isArray.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/isLength.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/isObject.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/keys.js","../node_modules/lodash/_createBaseEach.js","../node_modules/lodash/_baseEach.js","../node_modules/lodash/_baseForOwn.js","../node_modules/lodash/identity.js","../node_modules/lodash/_castFunction.js","../node_modules/lodash/forEach.js","../node_modules/lodash/_getPrototype.js","../node_modules/lodash/isPlainObject.js","../node_modules/events/events.js","../src/event/event-emitter.js","../src/draggable/draggable-event.js","../src/draggable/drag-event.js","../src/draggable/draggable.js","../node_modules/dom-helpers/esm/position.js","../src/droppable/droppable-event.js","../src/droppable/droppable.js","../src/sortable/sort-event.js","../src/sortable/sortable.js","../src/index.js"],"sourcesContent":["/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nmodule.exports = isUndefined;\n","import isUndefined from 'lodash/isUndefined';\n\nexport default class Plugin {\n\tdraggable = null;\n\n\tconstructor(draggable) {\n\t\tthis.draggable = draggable;\n\t}\n\n\tget startEvent() {\n\t\treturn !isUndefined(this.draggable.items) ? 'sort:start' : 'drag:start';\n\t}\n\n\tget moveEvent() {\n\t\treturn !isUndefined(this.draggable.items) ? 'sort:move' : 'drag:move';\n\t}\n\n\tget stopEvent() {\n\t\treturn !isUndefined(this.draggable.items) ? 'sort:stop' : 'drag:stop';\n\t}\n\n\tattach() {\n\t\tthis.draggable.on(this.startEvent, this.onDragStart);\n\t\tthis.draggable.on(this.moveEvent, this.onDragMove);\n\t\tthis.draggable.on(this.stopEvent, this.onDragStop);\n\t}\n\n\tdetach() {\n\t\tthis.draggable.off(this.startEvent, this.onDragStart);\n\t\tthis.draggable.off(this.moveEvent, this.onDragMove);\n\t\tthis.draggable.off(this.stopEvent, this.onDragStop);\n\t}\n\n\tonDragStart(event) {}\n\n\tonDragMove(event) {}\n\n\tonDragStop(event) {}\n\n\tconstraintPosition = pos => pos;\n}\n","/**\n * Returns the owner document of a given element.\n * \n * @param node the element\n */\nexport default function ownerDocument(node) {\n  return node && node.ownerDocument || document;\n}","import hasClass from './hasClass';\n/**\n * Adds a CSS class to a given element.\n * \n * @param element the element\n * @param className the CSS class name\n */\n\nexport default function addClass(element, className) {\n  if (element.classList) element.classList.add(className);else if (!hasClass(element, className)) if (typeof element.className === 'string') element.className = element.className + \" \" + className;else element.setAttribute('class', (element.className && element.className.baseVal || '') + \" \" + className);\n}","/**\n * Checks if a given element has a CSS class.\n * \n * @param element the element\n * @param className the CSS class name\n */\nexport default function hasClass(element, className) {\n  if (element.classList) return !!className && element.classList.contains(className);\n  return (\" \" + (element.className.baseVal || element.className) + \" \").indexOf(\" \" + className + \" \") !== -1;\n}","export default !!(typeof window !== 'undefined' && window.document && window.document.createElement);","/* eslint-disable no-return-assign */\nimport canUseDOM from './canUseDOM';\nexport var optionsSupported = false;\nexport var onceSupported = false;\n\ntry {\n  var options = {\n    get passive() {\n      return optionsSupported = true;\n    },\n\n    get once() {\n      // eslint-disable-next-line no-multi-assign\n      return onceSupported = optionsSupported = true;\n    }\n\n  };\n\n  if (canUseDOM) {\n    window.addEventListener('test', options, options);\n    window.removeEventListener('test', options, true);\n  }\n} catch (e) {\n  /* */\n}\n\n/**\n * An `addEventListener` ponyfill, supports the `once` option\n * \n * @param node the element\n * @param eventName the event name\n * @param handle the handler\n * @param options event options\n */\nfunction addEventListener(node, eventName, handler, options) {\n  if (options && typeof options !== 'boolean' && !onceSupported) {\n    var once = options.once,\n        capture = options.capture;\n    var wrappedHandler = handler;\n\n    if (!onceSupported && once) {\n      wrappedHandler = handler.__once || function onceHandler(event) {\n        this.removeEventListener(eventName, onceHandler, capture);\n        handler.call(this, event);\n      };\n\n      handler.__once = wrappedHandler;\n    }\n\n    node.addEventListener(eventName, wrappedHandler, optionsSupported ? options : capture);\n  }\n\n  node.addEventListener(eventName, handler, options);\n}\n\nexport default addEventListener;","import ownerWindow from './ownerWindow';\n/**\n * Returns one or all computed style properties of an element.\n * \n * @param node the element\n * @param psuedoElement the style property\n */\n\nexport default function getComputedStyle(node, psuedoElement) {\n  return ownerWindow(node).getComputedStyle(node, psuedoElement);\n}","import ownerDocument from './ownerDocument';\n/**\n * Returns the owner window of a given element.\n * \n * @param node the element\n */\n\nexport default function ownerWindow(node) {\n  var doc = ownerDocument(node);\n  return doc && doc.defaultView || window;\n}","var rUpper = /([A-Z])/g;\nexport default function hyphenate(string) {\n  return string.replace(rUpper, '-$1').toLowerCase();\n}","/**\n * Copyright 2013-2014, Facebook, Inc.\n * All rights reserved.\n * https://github.com/facebook/react/blob/2aeb8a2a6beb00617a4217f7f8284924fa2ad819/src/vendor/core/hyphenateStyleName.js\n */\nimport hyphenate from './hyphenate';\nvar msPattern = /^ms-/;\nexport default function hyphenateStyleName(string) {\n  return hyphenate(string).replace(msPattern, '-ms-');\n}","var supportedTransforms = /^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;\nexport default function isTransform(value) {\n  return !!(value && supportedTransforms.test(value));\n}","import getComputedStyle from './getComputedStyle';\nimport hyphenate from './hyphenateStyle';\nimport isTransform from './isTransform';\n\nfunction style(node, property) {\n  var css = '';\n  var transforms = '';\n\n  if (typeof property === 'string') {\n    return node.style.getPropertyValue(hyphenate(property)) || getComputedStyle(node).getPropertyValue(hyphenate(property));\n  }\n\n  Object.keys(property).forEach(function (key) {\n    var value = property[key];\n\n    if (!value && value !== 0) {\n      node.style.removeProperty(hyphenate(key));\n    } else if (isTransform(key)) {\n      transforms += key + \"(\" + value + \") \";\n    } else {\n      css += hyphenate(key) + \": \" + value + \";\";\n    }\n  });\n\n  if (transforms) {\n    css += \"transform: \" + transforms + \";\";\n  }\n\n  node.style.cssText += \";\" + css;\n}\n\nexport default style;","import addEventListener from './addEventListener';\nimport removeEventListener from './removeEventListener';\n\nfunction listen(node, eventName, handler, options) {\n  addEventListener(node, eventName, handler, options);\n  return function () {\n    removeEventListener(node, eventName, handler, options);\n  };\n}\n\nexport default listen;","/**\n * A `removeEventListener` ponyfill\n * \n * @param node the element\n * @param eventName the event name\n * @param handle the handler\n * @param options event options\n */\nfunction removeEventListener(node, eventName, handler, options) {\n  var capture = options && typeof options !== 'boolean' ? options.capture : options;\n  node.removeEventListener(eventName, handler, capture);\n\n  if (handler.__once) {\n    node.removeEventListener(eventName, handler.__once, capture);\n  }\n}\n\nexport default removeEventListener;","import canUseDOM from './canUseDOM';\n\n/* https://github.com/component/raf */\nvar prev = new Date().getTime();\n\nfunction fallback(fn) {\n  var curr = new Date().getTime();\n  var ms = Math.max(0, 16 - (curr - prev));\n  var handle = setTimeout(fn, ms);\n  prev = curr;\n  return handle;\n}\n\nvar vendors = ['', 'webkit', 'moz', 'o', 'ms'];\nvar cancelMethod = 'clearTimeout';\nvar rafImpl = fallback; // eslint-disable-next-line import/no-mutable-exports\n\nvar getKey = function getKey(vendor, k) {\n  return vendor + (!vendor ? k : k[0].toUpperCase() + k.substr(1)) + \"AnimationFrame\";\n};\n\nif (canUseDOM) {\n  vendors.some(function (vendor) {\n    var rafMethod = getKey(vendor, 'request');\n\n    if (rafMethod in window) {\n      cancelMethod = getKey(vendor, 'cancel'); // @ts-ignore\n\n      rafImpl = function rafImpl(cb) {\n        return window[rafMethod](cb);\n      };\n    }\n\n    return !!rafImpl;\n  });\n}\n\nexport var cancel = function cancel(id) {\n  // @ts-ignore\n  if (typeof window[cancelMethod] === 'function') window[cancelMethod](id);\n};\nexport var request = rafImpl;","var matchesImpl;\n/**\n * Checks if a given element matches a selector.\n * \n * @param node the element\n * @param selector the selector\n */\n\nexport default function matches(node, selector) {\n  if (!matchesImpl) {\n    var body = document.body;\n    var nativeMatch = body.matches || body.matchesSelector || body.webkitMatchesSelector || body.mozMatchesSelector || body.msMatchesSelector;\n\n    matchesImpl = function matchesImpl(n, s) {\n      return nativeMatch.call(n, s);\n    };\n  }\n\n  return matchesImpl(node, selector);\n}","import matches from './matches';\n/**\n * Returns the closest parent element that matches a given selector.\n * \n * @param node the reference element\n * @param selector the selector to match\n * @param stopAt stop traversing when this element is found\n */\n\nexport default function closest(node, selector, stopAt) {\n  if (node.closest && !stopAt) node.closest(selector);\n  var nextNode = node;\n\n  do {\n    if (matches(nextNode, selector)) return nextNode;\n    nextNode = nextNode.parentElement;\n  } while (nextNode && nextNode !== stopAt && nextNode.nodeType === document.ELEMENT_NODE);\n\n  return null;\n}","/* eslint-disable no-bitwise, no-cond-assign */\n\n/**\n * Checks if an element contains another given element.\n * \n * @param context the context element\n * @param node the element to check\n */\nexport default function contains(context, node) {\n  // HTML DOM and SVG DOM may have different support levels,\n  // so we need to check on context instead of a document root element.\n  if (context.contains) return context.contains(node);\n  if (context.compareDocumentPosition) return context === node || !!(context.compareDocumentPosition(node) & 16);\n}","var toArray = Function.prototype.bind.call(Function.prototype.call, [].slice);\n/**\n * Collects all child nodes of an element.\n * \n * @param node the node\n */\n\nexport default function childNodes(node) {\n  return node ? toArray(node.childNodes) : [];\n}","var toArray = Function.prototype.bind.call(Function.prototype.call, [].slice);\n/**\n * Runs `querySelectorAll` on a given element.\n * \n * @param element the element\n * @param selector the selector\n */\n\nexport default function qsa(element, selector) {\n  return toArray(element.querySelectorAll(selector));\n}","export default function isDocument(element) {\n  return 'nodeType' in element && element.nodeType === document.DOCUMENT_NODE;\n}","import isDocument from './isDocument';\nexport default function isWindow(node) {\n  if ('window' in node && node.window === node) return node;\n  if (isDocument(node)) return node.defaultView || false;\n  return false;\n}","import isWindow from './isWindow';\nexport default function getscrollAccessor(offset) {\n  var prop = offset === 'pageXOffset' ? 'scrollLeft' : 'scrollTop';\n\n  function scrollAccessor(node, val) {\n    var win = isWindow(node);\n\n    if (val === undefined) {\n      return win ? win[offset] : node[prop];\n    }\n\n    if (win) {\n      win.scrollTo(win[offset], val);\n    } else {\n      node[prop] = val;\n    }\n  }\n\n  return scrollAccessor;\n}","import getScrollAccessor from './getScrollAccessor';\n/**\n * Gets or sets the scroll left position of a given element.\n * \n * @param node the element\n * @param val the position to set\n */\n\nexport default getScrollAccessor('pageXOffset');","import getScrollAccessor from './getScrollAccessor';\n/**\n * Gets or sets the scroll top position of a given element.\n * \n * @param node the element\n * @param val the position to set\n */\n\nexport default getScrollAccessor('pageYOffset');","import contains from './contains';\nimport ownerDocument from './ownerDocument';\nimport scrollLeft from './scrollLeft';\nimport scrollTop from './scrollTop';\n/**\n * Returns the offset of a given element, including top and left positions, width and height.\n * \n * @param node the element\n */\n\nexport default function offset(node) {\n  var doc = ownerDocument(node);\n  var box = {\n    top: 0,\n    left: 0,\n    height: 0,\n    width: 0\n  };\n  var docElem = doc && doc.documentElement; // Make sure it's not a disconnected DOM node\n\n  if (!docElem || !contains(docElem, node)) return box;\n  if (node.getBoundingClientRect !== undefined) box = node.getBoundingClientRect();\n  box = {\n    top: box.top + scrollTop(docElem) - (docElem.clientTop || 0),\n    left: box.left + scrollLeft(docElem) - (docElem.clientLeft || 0),\n    width: box.width,\n    height: box.height\n  };\n  return box;\n}","import getWindow from './isWindow';\nimport offset from './offset';\n/**\n * Returns the height of a given element.\n * \n * @param node the element\n * @param client whether to use `clientHeight` if possible\n */\n\nexport default function height(node, client) {\n  var win = getWindow(node);\n  return win ? win.innerHeight : client ? node.clientHeight : offset(node).height;\n}","import css from './css';\nimport ownerDocument from './ownerDocument';\n\nvar isHTMLElement = function isHTMLElement(e) {\n  return !!e && 'offsetParent' in e;\n};\n\nexport default function offsetParent(node) {\n  var doc = ownerDocument(node);\n  var parent = node && node.offsetParent;\n\n  while (isHTMLElement(parent) && parent.nodeName !== 'HTML' && css(parent, 'position') === 'static') {\n    parent = parent.offsetParent;\n  }\n\n  return parent || doc.documentElement;\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","function replaceClassName(origClass, classToRemove) {\n  return origClass.replace(new RegExp(\"(^|\\\\s)\" + classToRemove + \"(?:\\\\s|$)\", 'g'), '$1').replace(/\\s+/g, ' ').replace(/^\\s*|\\s*$/g, '');\n}\n/**\n * Removes a CSS class from a given element.\n * \n * @param element the element\n * @param className the CSS class name\n */\n\n\nexport default function removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else if (typeof element.className === 'string') {\n    element.className = replaceClassName(element.className, className);\n  } else {\n    element.setAttribute('class', replaceClassName(element.className && element.className.baseVal || '', className));\n  }\n}","/* eslint-disable no-cond-assign, no-continue */\nimport css from './css';\nimport height from './height';\nimport isDocument from './isDocument';\n/**\n * Find the first scrollable parent of an element.\n *\n * @param element Starting element\n * @param firstPossible Stop at the first scrollable parent, even if it's not currently scrollable\n */\n\nexport default function scrollParent(element, firstPossible) {\n  var position = css(element, 'position');\n  var excludeStatic = position === 'absolute';\n  var ownerDoc = element.ownerDocument;\n  if (position === 'fixed') return ownerDoc || document; // @ts-ignore\n\n  while ((element = element.parentNode) && !isDocument(element)) {\n    var isStatic = excludeStatic && css(element, 'position') === 'static';\n    var style = (css(element, 'overflow') || '') + (css(element, 'overflow-y') || '') + css(element, 'overflow-x');\n    if (isStatic) continue;\n\n    if (/(auto|scroll)/.test(style) && (firstPossible || height(element) < element.scrollHeight)) {\n      return element;\n    }\n  }\n\n  return ownerDoc || document;\n}","import getWindow from './isWindow';\nimport offset from './offset';\n/**\n * Returns the width of a given element.\n * \n * @param node the element\n * @param client whether to use `clientWidth` if possible\n */\n\nexport default function getWidth(node, client) {\n  var win = getWindow(node);\n  return win ? win.innerWidth : client ? node.clientWidth : offset(node).width;\n}","export default class AbstractEvent {\n\tstatic type = 'event';\n\n\tstatic cancelable = false;\n\n\tdata = null;\n\n\tcanceled = false;\n\n\tconstructor(data = {}) {\n\t\tthis.data = data;\n\t}\n\n\tget type() {\n\t\treturn this.constructor.type;\n\t}\n\n\tget cancelable() {\n\t\treturn this.constructor.cancelable;\n\t}\n\n\tcancel() {\n\t\tif (this.cancelable) {\n\t\t\tthis.canceled = true;\n\t\t}\n\t}\n}\n","import AbstractEvent from '../event/abstract-event';\n\nexport default class SensorEvent extends AbstractEvent {\n\tget pageX() {\n\t\treturn this.data.pageX || null;\n\t}\n\n\tget pageY() {\n\t\treturn this.data.pageY || null;\n\t}\n\n\tget target() {\n\t\treturn this.data.target || null;\n\t}\n\n\tset target(value) {\n\t\tthis.data.target = value;\n\t}\n\n\tget caller() {\n\t\treturn this.data.caller || null;\n\t}\n\n\tget originalEvent() {\n\t\treturn this.data.originalEvent || null;\n\t}\n}\n","import SensorEvent from './sensor-event';\n\nexport class MouseStartEvent extends SensorEvent {\n\tstatic type = 'mouse:start';\n\n\tstatic cancelable = true;\n}\n\nexport class MouseMoveEvent extends SensorEvent {\n\tstatic type = 'mouse:move';\n}\n\nexport class MouseStopEvent extends SensorEvent {\n\tstatic type = 'mouse:stop';\n}\n","import { activeElement, contains, matches, style } from 'dom-helpers';\nimport { MouseStopEvent } from '../sensor/mouse-event';\n\nconst toArray = Function.prototype.bind.call(Function.prototype.call, [].slice);\n\nconst show = element => {\n\tif (element) {\n\t\tconst previous = element.previousDisplay || null;\n\n\t\tstyle(element, {\n\t\t\tdisplay: previous || ''\n\t\t});\n\t}\n};\n\nconst hide = element => {\n\tif (element) {\n\t\telement.previousDisplay = style(element, 'display') || null;\n\t\tstyle(element, {\n\t\t\tdisplay: 'none'\n\t\t});\n\t}\n};\n\nconst getParents = (element, until = null) => {\n\tlet nextNode = element;\n\tconst parents = [];\n\n\twhile (nextNode && nextNode.parentNode && nextNode.parentNode !== document) {\n\t\tif (until && matches(nextNode.parentNode, until)) {\n\t\t\tbreak;\n\t\t}\n\t\tparents.push(nextNode.parentNode);\n\t\tnextNode = nextNode.parentNode;\n\t}\n\n\treturn parents;\n};\n\nconst getSibling = (element, direction, skip) => {\n\tlet sibling = null;\n\tlet nextNode = element;\n\tconst prop = direction === 'previous' ? 'previousElementSibling' : 'nextElementSibling';\n\n\twhile (nextNode && nextNode[prop]) {\n\t\tif (skip && matches(nextNode[prop], skip)) {\n\t\t\tnextNode = nextNode[prop];\n\t\t} else {\n\t\t\tsibling = nextNode[prop];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn sibling;\n};\n\nconst containsStrict = (reference, element) => reference !== element && contains(reference, element);\n\nconst insertBefore = (element, reference) => {\n\tif (element && reference && reference.parentNode) {\n\t\treference.parentNode.insertBefore(element, reference);\n\t}\n\treturn element;\n};\n\nconst insertAfter = (element, reference) => {\n\tif (element && reference && reference.parentNode) {\n\t\tif (reference.nextSibling) {\n\t\t\treference.parentNode.insertBefore(element, reference.nextSibling);\n\t\t} else {\n\t\t\treference.parentNode.appendChild(element);\n\t\t}\n\t}\n\treturn element;\n};\n\nconst createMouseStopEvent = target =>\n\tnew MouseStopEvent({\n\t\ttarget,\n\t\toriginalEvent: createEvent('mouseup', target)\n\t});\n\nconst createEvent = (type, target) => {\n\tconst event = document.createEvent('HTMLEvents');\n\n\tevent.initEvent(type, false, true);\n\tevent.target = target;\n\n\treturn event;\n};\n\nconst triggerEvent = (element, type) => {\n\tif (element) {\n\t\tconst event = document.createEvent('HTMLEvents');\n\n\t\tevent.initEvent(type, false, true);\n\t\telement.dispatchEvent(event);\n\t}\n};\n\nconst blurActiveElement = event => {\n\tconst active = activeElement();\n\n\tif (!containsStrict(active, event.target) && active !== document.body) {\n\t\ttriggerEvent(active, 'blur');\n\t}\n};\n\nconst isFloating = element => /(left|right)/.test(style(element, 'float') || /(inline|table-cell)/.test(style(element, 'display')));\n\nconst setPositionRelative = element => {\n\tconst pos = style(element, 'position');\n\n\tif (!/^(?:r|a|f)/.test(pos)) {\n\t\tstyle(element, {\n\t\t\tposition: 'relative'\n\t\t});\n\t}\n};\n\nconst setPositionAbsolute = element => {\n\tconst pos = style(element, 'position');\n\n\tif (!/^(?:fixed|absolute)/.test(pos)) {\n\t\tstyle(element, {\n\t\t\tposition: 'absolute'\n\t\t});\n\t}\n};\n\nconst styleAsNumber = (element, prop) => {\n\treturn parseInt(style(element, prop), 10) || 0;\n};\n\nconst scrollParent = (element, includeHidden = true) => {\n\tconst position = style(element, 'position');\n\tconst excludeStatic = position === 'absolute';\n\n\tif (position === 'fixed') {\n\t\treturn document;\n\t}\n\n\tconst regex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/;\n\tconst filtered = getParents(element).filter(parent => {\n\t\tif (excludeStatic && style(parent, 'position') === 'static') {\n\t\t\treturn false;\n\t\t}\n\t\treturn regex.test(style(parent, 'overflow') + style(parent, 'overflowX') + style(parent, 'overflowY'));\n\t});\n\n\treturn filtered.length > 0 ? filtered[0] : document;\n};\n\nconst intersect = (source, target, tolerance, event) => {\n\tswitch (tolerance) {\n\t\tcase 'fit':\n\t\t\treturn source.left >= target.left && source.top >= target.top && source.right >= target.right && source.bottom >= target.bottom;\n\t\tcase 'intersect':\n\t\t\treturn (\n\t\t\t\ttarget.left < source.left + source.width / 2 &&\n\t\t\t\ttarget.right > source.right - source.width / 2 &&\n\t\t\t\ttarget.top < source.top + source.height / 2 &&\n\t\t\t\ttarget.bottom > source.bottom - source.height / 2\n\t\t\t);\n\t\tcase 'pointer':\n\t\t\treturn event.pageX > target.left && event.pageX < target.right && event.pageY > target.top && event.pageY < target.bottom;\n\t\tcase 'touch':\n\t\t\treturn (\n\t\t\t\t((source.left >= target.left && source.left <= target.right) ||\n\t\t\t\t\t(source.right >= target.left && source.right <= target.right) ||\n\t\t\t\t\t(source.left < target.left && source.right > target.right)) &&\n\t\t\t\t((source.top >= target.top && source.top <= target.top) ||\n\t\t\t\t\t(source.bottom >= target.bottom && source.bottom <= target.bottom) ||\n\t\t\t\t\t(source.top < target.top && source.bottom > target.bottom))\n\t\t\t);\n\t\tdefault:\n\t\t\treturn false;\n\t}\n};\n\nconst isRoot = (element, includeBody = true) =>\n\telement === document || element === document.documentElement || (includeBody && element === document.body);\n\nexport {\n\ttoArray,\n\tshow,\n\thide,\n\tgetParents,\n\tgetSibling,\n\tcontainsStrict as contains,\n\tinsertBefore,\n\tinsertAfter,\n\tcreateMouseStopEvent,\n\tcreateEvent,\n\ttriggerEvent,\n\tblurActiveElement,\n\tisFloating,\n\tsetPositionRelative,\n\tsetPositionAbsolute,\n\tstyleAsNumber,\n\tscrollParent,\n\tintersect,\n\tisRoot\n};\n\nexport default {\n\ttoArray,\n\tshow,\n\thide,\n\tgetParents,\n\tgetSibling,\n\tcontains: containsStrict,\n\tinsertBefore,\n\tinsertAfter,\n\tcreateMouseStopEvent,\n\tcreateEvent,\n\ttriggerEvent,\n\tblurActiveElement,\n\tisFloating,\n\tsetPositionRelative,\n\tsetPositionAbsolute,\n\tstyleAsNumber,\n\tscrollParent,\n\tintersect,\n\tisRoot\n};\n","import ownerDocument from './ownerDocument';\n/**\n * Returns the actively focused element safely.\n *\n * @param doc the document to check\n */\n\nexport default function activeElement(doc) {\n  if (doc === void 0) {\n    doc = ownerDocument();\n  }\n\n  // Support: IE 9 only\n  // IE9 throws an \"Unspecified error\" accessing document.activeElement from an <iframe>\n  try {\n    var active = doc.activeElement; // IE11 returns a seemingly empty object in some cases when accessing\n    // document.activeElement from an <iframe>\n\n    if (!active || !active.nodeName) return null;\n    return active;\n  } catch (e) {\n    /* ie throws if no active element */\n    return doc.body;\n  }\n}","import { getParents } from '../util';\n\nlet instance = null;\n\nexport class DragDropManager {\n\tdraggable = null;\n\n\tdroppables = {};\n\n\tgetDroppables = scope => {\n\t\treturn this.droppables[scope] || [];\n\t};\n\n\taddDroppable = (droppable, scope) => {\n\t\tif (droppable && scope) {\n\t\t\tif (!this.droppables[scope]) {\n\t\t\t\tthis.droppables[scope] = [];\n\t\t\t}\n\t\t\tthis.droppables[scope].push(droppable);\n\t\t}\n\t};\n\n\tremoveDroppable = (droppable, scope) => {\n\t\tif (droppable && this.droppables[scope]) {\n\t\t\tthis.droppables[scope] = this.droppables[scope].filter(item => item !== droppable);\n\t\t}\n\t};\n\n\tprepareOffsets = (draggable, event) => {\n\t\tconst { type } = event;\n\n\t\tthis.draggable = draggable;\n\t\tthis.getDroppables(draggable.scope).forEach(droppable => {\n\t\t\tdroppable.refreshVisibility();\n\t\t\tif (droppable.visible) {\n\t\t\t\tif (droppable.accept(draggable)) {\n\t\t\t\t\tif (type === 'mouse:start') {\n\t\t\t\t\t\tdroppable.activate(event);\n\t\t\t\t\t}\n\t\t\t\t\tdroppable.refreshProportions();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tonDragMove = (draggable, event) => {\n\t\tthis.getDroppables(draggable.scope).forEach(droppable => {\n\t\t\tconst intersects = droppable.intersect(draggable, event);\n\n\t\t\tif ((intersects && !droppable.isOver) || (!intersects && droppable.isOver)) {\n\t\t\t\tlet parentDroppable;\n\t\t\t\tconst { element } = droppable;\n\t\t\t\tconst { greedy, scope } = droppable.options;\n\n\t\t\t\tif (greedy) {\n\t\t\t\t\tconst parents = getParents(element).filter(\n\t\t\t\t\t\telement => element[droppable.dataProperty] && element[droppable.dataProperty].options.scope === scope\n\t\t\t\t\t);\n\t\t\t\t\tif (parents.length > 0) {\n\t\t\t\t\t\tparentDroppable = parents[0][droppable.dataProperty];\n\t\t\t\t\t\tparentDroppable.greedyChild = intersects;\n\t\t\t\t\t\tif (intersects) {\n\t\t\t\t\t\t\tparentDroppable.out(event);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (intersects) {\n\t\t\t\t\tdroppable.over(event);\n\t\t\t\t} else {\n\t\t\t\t\tdroppable.out(event);\n\t\t\t\t}\n\n\t\t\t\tif (parentDroppable && !intersects) {\n\t\t\t\t\tparentDroppable.over(event);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tonDragStop = (draggable, event) => {\n\t\tthis.prepareOffsets(draggable, event);\n\t};\n\n\tdrop = (draggable, event) => {\n\t\tlet dropped = null;\n\n\t\tthis.getDroppables(draggable.scope).forEach(droppable => {\n\t\t\tif (droppable.intersect(draggable, event)) {\n\t\t\t\tdropped = droppable.drop(event) || dropped;\n\t\t\t}\n\t\t\tif (droppable.accept(draggable)) {\n\t\t\t\tdroppable.deactivate(event);\n\t\t\t}\n\t\t});\n\n\t\tthis.draggable = null;\n\n\t\treturn dropped;\n\t};\n}\n\nif (!instance) {\n\tinstance = new DragDropManager();\n}\n\nexport default instance;\n","import { offset, scrollLeft, scrollTop } from 'dom-helpers';\n\nimport DragDropManager from '../manager';\nimport Plugin from './plugin';\nimport { isRoot } from '../util';\n\nexport default class AutoScroll extends Plugin {\n\tscrollParent = null;\n\n\tscrollParentOffset = null;\n\n\tconstructor(draggable) {\n\t\tsuper(draggable);\n\t\tthis.attach();\n\t}\n\n\tget scroll() {\n\t\tconst { options } = this.draggable;\n\n\t\treturn options.scroll;\n\t}\n\n\tonDragStart = event => {\n\t\tif (!this.scroll) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { helperAttrs } = this.draggable;\n\n\t\tif (!this.scrollParent) {\n\t\t\tthis.scrollParent = helperAttrs.scrollParent;\n\t\t}\n\t\tif (!isRoot(this.scrollParent, false)) {\n\t\t\tthis.scrollParentOffset = offset(this.scrollParent);\n\t\t}\n\t};\n\n\tonDragMove = event => {\n\t\tif (!this.scroll) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet scrolled = false;\n\t\tconst { sensorEvent } = event;\n\t\tconst { scrollParent, scrollParentOffset } = this;\n\t\tconst { helperSize } = this.draggable;\n\t\tconst { click } = this.draggable.offset;\n\t\tconst { axis, scrollSensitivity, scrollSpeed } = this.draggable.options;\n\t\tconst pos = {\n\t\t\tx: sensorEvent.pageX - click.left - (isRoot(this.scrollParent, false) ? scrollLeft(document) : 0),\n\t\t\ty: sensorEvent.pageY - click.top - (isRoot(this.scrollParent, false) ? scrollTop(document) : 0)\n\t\t};\n\n\t\tif (!isRoot(this.scrollParent, false)) {\n\t\t\tif (!axis || axis !== 'y') {\n\t\t\t\tif (scrollParentOffset.left + scrollParent.offsetWidth - (pos.x + helperSize.width) < scrollSensitivity) {\n\t\t\t\t\tscrollParent.scrollLeft = scrollParent.scrollLeft + scrollSpeed;\n\t\t\t\t\tscrolled = true;\n\t\t\t\t} else if (pos.x - scrollParentOffset.left < scrollSensitivity) {\n\t\t\t\t\tscrollParent.scrollLeft = scrollParent.scrollLeft - scrollSpeed;\n\t\t\t\t\tscrolled = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!axis || axis !== 'x') {\n\t\t\t\tif (scrollParentOffset.top + scrollParent.offsetHeight - (pos.y + helperSize.height) < scrollSensitivity) {\n\t\t\t\t\tscrollParent.scrollTop = scrollParent.scrollTop + scrollSpeed;\n\t\t\t\t\tscrolled = true;\n\t\t\t\t} else if (pos.y - scrollParentOffset.top < scrollSensitivity) {\n\t\t\t\t\tscrollParent.scrollTop = scrollParent.scrollTop - scrollSpeed;\n\t\t\t\t\tscrolled = true;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (!axis || axis !== 'y') {\n\t\t\t\tif (pos.x < scrollSensitivity) {\n\t\t\t\t\tscrollLeft(document, scrollLeft(document) - scrollSpeed);\n\t\t\t\t\tscrolled = true;\n\t\t\t\t} else if (window.innerWidth - (pos.x + helperSize.width) < scrollSensitivity) {\n\t\t\t\t\tscrollLeft(document, scrollLeft(document) + scrollSpeed);\n\t\t\t\t\tscrolled = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!axis || axis !== 'x') {\n\t\t\t\tif (pos.y < scrollSensitivity) {\n\t\t\t\t\tscrollTop(document, scrollTop(document) - scrollSpeed);\n\t\t\t\t\tscrolled = true;\n\t\t\t\t} else if (window.innerHeight - (pos.y + helperSize.height) < scrollSensitivity) {\n\t\t\t\t\tscrollTop(document, scrollTop(document) + scrollSpeed);\n\t\t\t\t\tscrolled = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (scrolled) {\n\t\t\tDragDropManager.prepareOffsets(this.draggable, sensorEvent);\n\t\t}\n\t};\n}\n","import Plugin from './plugin';\n\nexport default class AxisConstraint extends Plugin {\n\tconstructor(draggable) {\n\t\tsuper(draggable);\n\t\tthis.attach();\n\t}\n\n\tget axis() {\n\t\tconst { axis = null } = this.draggable.options;\n\n\t\treturn axis;\n\t}\n\n\tconstraintPosition = pos => {\n\t\tconst { startEvent } = this.draggable;\n\n\t\tif (this.axis === 'y') {\n\t\t\tpos.pageX = startEvent.pageX;\n\t\t} else if (this.axis === 'x') {\n\t\t\tpos.pageY = startEvent.pageY;\n\t\t}\n\n\t\treturn pos;\n\t};\n}\n","import AbstractEvent from '../event/abstract-event';\n\nclass SortableEvent extends AbstractEvent {\n\tstatic type = 'sortable';\n\n\tget sortable() {\n\t\treturn this.data.sortable || null;\n\t}\n}\n\nexport class SortableInitEvent extends SortableEvent {\n\tstatic type = 'sortable:init';\n}\n\nexport class SortableActivateEvent extends SortableEvent {\n\tstatic type = 'sortable:activate';\n\n\tget sensorEvent() {\n\t\treturn this.data.sensorEvent || null;\n\t}\n\n\tget draggable() {\n\t\treturn this.data.draggable || null;\n\t}\n\n\tget peerSortable() {\n\t\treturn this.data.sortable || null;\n\t}\n}\n\nexport class SortableOverEvent extends SortableActivateEvent {\n\tstatic type = 'sortable:over';\n}\n\nexport class SortableChangeEvent extends SortableEvent {\n\tstatic type = 'sortable:change';\n}\n\nexport class SortableRemoveEvent extends SortableEvent {\n\tstatic type = 'sortable:remove';\n\n\tget item() {\n\t\treturn this.data.item || null;\n\t}\n\n\tget peerSortable() {\n\t\treturn this.data.peerSortable || null;\n\t}\n}\n\nexport class SortableReceiveEvent extends SortableRemoveEvent {\n\tstatic type = 'sortable:receive';\n\n\tget draggable() {\n\t\treturn this.data.draggable || null;\n\t}\n}\n\nexport class SortableUpdateEvent extends SortableEvent {\n\tstatic type = 'sortable:update';\n}\n\nexport class SortableOutEvent extends SortableActivateEvent {\n\tstatic type = 'sortable:out';\n}\n\nexport class SortableDeactivateEvent extends SortableActivateEvent {\n\tstatic type = 'sortable:deactivate';\n}\n\nexport class SortableDestroyEvent extends SortableEvent {\n\tstatic type = 'sortable:destroy';\n}\n","const draggableProp = 'draggableInstance';\nconst draggableEl = 'ui-draggable';\nconst draggableHandle = 'ui-draggable-handle';\nconst draggableHelper = 'ui-draggable-helper';\nconst droppableProp = 'droppableInstance';\nconst droppableEl = 'ui-droppable';\nconst droppableActive = 'ui-droppable-active';\nconst droppableHover = 'ui-droppable-hover';\nconst sortableProp = 'sortableInstance';\nconst sortableEl = 'ui-sortable';\nconst sortableHandle = 'ui-sortable-handle';\nconst sortableHelper = 'ui-sortable-helper';\nconst sortablePlaceholder = 'ui-sortable-placeholder';\n\nexport {\n\tdraggableProp,\n\tdraggableEl,\n\tdraggableHandle,\n\tdraggableHelper,\n\tdroppableProp,\n\tdroppableEl,\n\tdroppableActive,\n\tdroppableHover,\n\tsortableProp,\n\tsortableEl,\n\tsortableHandle,\n\tsortableHelper,\n\tsortablePlaceholder\n};\n\nexport default {\n\tdraggableProp,\n\tdraggableEl,\n\tdraggableHandle,\n\tdraggableHelper,\n\tdroppableProp,\n\tdroppableEl,\n\tdroppableActive,\n\tdroppableHover,\n\tsortableProp,\n\tsortableEl,\n\tsortableHandle,\n\tsortableHelper,\n\tsortablePlaceholder\n};\n","import { querySelectorAll, style } from 'dom-helpers';\n\nimport Plugin from './plugin';\nimport { SortableActivateEvent, SortableDeactivateEvent } from '../sortable/sortable-event';\nimport { sortableProp } from '../util/constants';\nimport { contains, styleAsNumber } from '../util';\n\nexport default class ConnectToSortable extends Plugin {\n\tconstructor(draggable) {\n\t\tsuper(draggable);\n\t\tthis.attach();\n\t}\n\n\tget connectToSortable() {\n\t\tconst { connectToSortable } = this.draggable.options;\n\n\t\treturn connectToSortable || null;\n\t}\n\n\tonDragStart = event => {\n\t\tif (this.connectToSortable) {\n\t\t\tthis.draggable.connectedSortables = [];\n\n\t\t\tquerySelectorAll(document, this.connectToSortable).forEach(element => {\n\t\t\t\tconst sortable = element[sortableProp];\n\n\t\t\t\tif (sortable && !sortable.disabled) {\n\t\t\t\t\tthis.draggable.connectedSortables.push(sortable);\n\t\t\t\t\tsortable.refreshPositions();\n\t\t\t\t\tsortable.trigger(\n\t\t\t\t\t\tnew SortableActivateEvent({\n\t\t\t\t\t\t\tsortable,\n\t\t\t\t\t\t\tsensorEvent: event.sensorEvent,\n\t\t\t\t\t\t\tdraggable: this.draggable\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tonDragMove = event => {\n\t\tconst { sensorEvent } = event;\n\n\t\tif (this.connectToSortable) {\n\t\t\tthis.draggable.connectedSortables.forEach(sortable => {\n\t\t\t\tlet intersecting = false;\n\t\t\t\tconst { helperSize, position } = this.draggable;\n\t\t\t\tconst { click, parent } = this.draggable.offset;\n\n\t\t\t\tsortable.helperSize = helperSize;\n\t\t\t\tsortable.offset.click = click;\n\t\t\t\tsortable.position.absolute = position.absolute;\n\t\t\t\tif (sortable.intersectsWith(sortable.elementProportions)) {\n\t\t\t\t\tintersecting = true;\n\t\t\t\t\tthis.draggable.connectedSortables.forEach(innerSortable => {\n\t\t\t\t\t\tinnerSortable.helperSize = helperSize;\n\t\t\t\t\t\tinnerSortable.offset.click = click;\n\t\t\t\t\t\tinnerSortable.position.absolute = position.absolute;\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tinnerSortable !== sortable &&\n\t\t\t\t\t\t\tinnerSortable.intersectsWith(innerSortable.elementProportions) &&\n\t\t\t\t\t\t\tcontains(sortable.element, innerSortable.element)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tintersecting = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (intersecting) {\n\t\t\t\t\tif (!sortable.isDraggableOver) {\n\t\t\t\t\t\tif (!this.draggable.previousHelperParent) {\n\t\t\t\t\t\t\tthis.draggable.previousHelperParent = this.draggable.helper.parentNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.draggable.helper[sortableProp] = sortable;\n\t\t\t\t\t\tsortable.element.appendChild(this.draggable.helper);\n\t\t\t\t\t\tsortable.previousHelper = sortable.options.helper;\n\t\t\t\t\t\tsortable.options.helper = () => this.draggable.helper;\n\t\t\t\t\t\tsortable.currentItem = this.draggable.helper;\n\t\t\t\t\t\tsortable.connectedDraggable = this.draggable;\n\t\t\t\t\t\tsensorEvent.target = sortable.currentItem;\n\t\t\t\t\t\tsortable.over(null, this.draggable);\n\t\t\t\t\t\tsortable.isDraggableOver = true;\n\t\t\t\t\t\tsortable.onDragStart(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdetail: sensorEvent\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsortable.offset.click = click;\n\t\t\t\t\t\tsortable.offset.parent.left -= parent.left - sortable.offset.parent.left;\n\t\t\t\t\t\tsortable.offset.parent.top -= parent.top - sortable.offset.parent.top;\n\t\t\t\t\t\tthis.draggable.connectedSortables.forEach(sortable => sortable.refreshPositions());\n\t\t\t\t\t}\n\t\t\t\t\tif (sortable.currentItem) {\n\t\t\t\t\t\tsortable.onDragMove(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdetail: sensorEvent\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t\tevent.position = sortable.position.current;\n\t\t\t\t\t}\n\t\t\t\t} else if (!intersecting && sortable.isDraggableOver) {\n\t\t\t\t\tsortable.previousRevert = sortable.options.revert;\n\t\t\t\t\tsortable.options.revert = false;\n\t\t\t\t\tsortable.out(null, this.draggable);\n\t\t\t\t\tsortable.isDraggableOver = false;\n\t\t\t\t\tsortable.cancelHelperRemoval = sortable.helper === sortable.currentItem;\n\t\t\t\t\tif (sortable.placeholder) {\n\t\t\t\t\t\tsortable.placeholder.parentNode.removeChild(sortable.placeholder);\n\t\t\t\t\t}\n\t\t\t\t\tsortable.onDragStop(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdetail: sensorEvent\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttrue\n\t\t\t\t\t);\n\t\t\t\t\tsortable.options.helper = sortable.previousHelper;\n\t\t\t\t\tsortable.previousHelper = null;\n\t\t\t\t\tsortable.options.revert = sortable.previousRevert;\n\t\t\t\t\tsortable.previousRevert = null;\n\t\t\t\t\tthis.draggable.previousHelperParent.appendChild(this.draggable.helper);\n\t\t\t\t\tthis.draggable.helper[sortableProp] = null;\n\t\t\t\t\tthis.draggable.calculateOffsets(sensorEvent);\n\t\t\t\t\tthis.draggable.calculatePosition(sensorEvent);\n\t\t\t\t\tthis.draggable.connectedSortables.forEach(sortable => sortable.refreshPositions());\n\t\t\t\t\tevent.position = this.draggable.position.current;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tonDragStop = event => {\n\t\tconst { sensorEvent } = event;\n\n\t\tif (this.connectToSortable) {\n\t\t\tthis.draggable.cancelHelperRemoval = false;\n\t\t\tthis.draggable.connectedSortables.forEach(sortable => {\n\t\t\t\tif (sortable.isDraggableOver) {\n\t\t\t\t\tdelete this.draggable.helper[sortableProp];\n\t\t\t\t\tthis.draggable.cancelHelperRemoval = true;\n\t\t\t\t\tsortable.cancelHelperRemoval = false;\n\t\t\t\t\tsortable.options.helper = sortable.previousHelper;\n\t\t\t\t\tsortable.previousHelper = null;\n\t\t\t\t\tsortable.previousRevert = sortable.options.revert;\n\t\t\t\t\tsortable.options.revert = false;\n\t\t\t\t\tevent.droppedSortable = sortable;\n\t\t\t\t\tsortable.out(null, this.draggable);\n\t\t\t\t\tsortable.isDraggableOver = false;\n\t\t\t\t\tsortable.currentItemStyle = {\n\t\t\t\t\t\tposition: style(sortable.placeholder, 'position'),\n\t\t\t\t\t\tleft: styleAsNumber(sortable.placeholder, 'left'),\n\t\t\t\t\t\ttop: styleAsNumber(sortable.placeholder, 'top')\n\t\t\t\t\t};\n\t\t\t\t\tsortable.onDragStop(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdetail: sensorEvent\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttrue\n\t\t\t\t\t);\n\t\t\t\t\tsortable.options.revert = sortable.previousRevert;\n\t\t\t\t\tsortable.previousRevert = null;\n\t\t\t\t\tsortable.currentItem = null;\n\t\t\t\t\tsortable.connectedDraggable = null;\n\t\t\t\t\tthis.draggable.helper[sortableProp] = null;\n\t\t\t\t\tthis.draggable.connectedSortables.forEach(sortable => sortable.refreshPositions());\n\t\t\t\t} else {\n\t\t\t\t\tsortable.cancelHelperRemoval = false;\n\t\t\t\t}\n\t\t\t\tsortable.trigger(\n\t\t\t\t\tnew SortableDeactivateEvent({\n\t\t\t\t\t\tsortable,\n\t\t\t\t\t\tsensorEvent,\n\t\t\t\t\t\tdraggable: this.draggable\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tsortable.currentItem = null;\n\t\t\t\tsortable.connectedDraggable = null;\n\t\t\t});\n\t\t\tthis.draggable.connectedSortables = [];\n\t\t}\n\t};\n}\n","import { height, offset, style, width } from 'dom-helpers';\n\nimport Plugin from './plugin';\nimport { styleAsNumber } from '../util';\n\nexport default class ContainmentConstraint extends Plugin {\n\tconstructor(draggable) {\n\t\tsuper(draggable);\n\t\tthis.attach();\n\t}\n\n\tget containment() {\n\t\tif (this.draggable.containmentCoords === undefined) {\n\t\t\tconst { containment } = this.draggable.options;\n\t\t\tconst { parent, relative } = this.draggable.offset;\n\t\t\tconst { helper, helperSize, margins } = this.draggable;\n\n\t\t\tif (containment === 'window') {\n\t\t\t\tthis.draggable.containmentCoords = [\n\t\t\t\t\twindow.pageXOffset - parent.left - relative.left,\n\t\t\t\t\twindow.pageYOffset - parent.top - relative.top,\n\t\t\t\t\twindow.pageXOffset + window.innerWidth - helperSize.width - margins.left,\n\t\t\t\t\twindow.pageYOffset + window.innerHeight - helperSize.height - margins.top\n\t\t\t\t];\n\t\t\t} else if (containment === 'document') {\n\t\t\t\tthis.draggable.containmentCoords = [\n\t\t\t\t\t0,\n\t\t\t\t\t0,\n\t\t\t\t\twidth(document) - helperSize.width - margins.left,\n\t\t\t\t\theight(document) - helperSize.height - margins.top\n\t\t\t\t];\n\t\t\t} else if (Array.isArray(containment) && containment.length === 4) {\n\t\t\t\tthis.draggable.containmentCoords = containment;\n\t\t\t} else {\n\t\t\t\tconst node = containment === 'parent' ? helper.parentNode : document.querySelector(containment);\n\n\t\t\t\tif (node) {\n\t\t\t\t\tconst scrollable = /(scroll|auto)/.test(style(node, 'overflow'));\n\n\t\t\t\t\tthis.draggable.containmentContainer = node;\n\t\t\t\t\tthis.draggable.containmentCoords = [\n\t\t\t\t\t\tstyleAsNumber(node, 'borderLeftWidth') + styleAsNumber(node, 'paddingLeft'),\n\t\t\t\t\t\tstyleAsNumber(node, 'borderTopWidth') + styleAsNumber(node, 'paddingTop'),\n\t\t\t\t\t\t(scrollable ? Math.max(node.scrollWidth, node.offsetWidth) : node.offsetWidth) -\n\t\t\t\t\t\t\tstyleAsNumber(node, 'borderRightWidth') -\n\t\t\t\t\t\t\tstyleAsNumber(node, 'paddingRight') -\n\t\t\t\t\t\t\thelperSize.width -\n\t\t\t\t\t\t\tmargins.left -\n\t\t\t\t\t\t\tmargins.right,\n\t\t\t\t\t\t(scrollable ? Math.max(node.scrollHeight, node.offsetHeight) : node.offsetHeight) -\n\t\t\t\t\t\t\tstyleAsNumber(node, 'borderBottomWidth') -\n\t\t\t\t\t\t\tstyleAsNumber(node, 'paddingBottom') -\n\t\t\t\t\t\t\thelperSize.height -\n\t\t\t\t\t\t\tmargins.top -\n\t\t\t\t\t\t\tmargins.bottom\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\tthis.draggable.containmentCoords = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.draggable.containmentCoords;\n\t}\n\n\tconstraintPosition = pos => {\n\t\tif (this.containment) {\n\t\t\tlet [xMin, yMin, xMax, yMax] = this.containment;\n\t\t\tconst { containmentContainer } = this.draggable;\n\t\t\tconst { click } = this.draggable.offset;\n\n\t\t\tif (containmentContainer) {\n\t\t\t\tconst containerOffset = offset(containmentContainer);\n\n\t\t\t\txMin += containerOffset.left;\n\t\t\t\tyMin += containerOffset.top;\n\t\t\t\txMax += containerOffset.left;\n\t\t\t\tyMax += containerOffset.top;\n\t\t\t}\n\n\t\t\tif (pos.pageX - click.left < xMin) {\n\t\t\t\tpos.pageX = xMin + click.left;\n\t\t\t}\n\t\t\tif (pos.pageY - click.top < yMin) {\n\t\t\t\tpos.pageY = yMin + click.top;\n\t\t\t}\n\t\t\tif (pos.pageX - click.left > xMax) {\n\t\t\t\tpos.pageX = xMax + click.left;\n\t\t\t}\n\t\t\tif (pos.pageY - click.top > yMax) {\n\t\t\t\tpos.pageY = yMax + click.top;\n\t\t\t}\n\t\t}\n\n\t\treturn pos;\n\t};\n}\n","import { offset } from 'dom-helpers';\n\nimport Plugin from './plugin';\n\nexport default class GridConstraint extends Plugin {\n\tconstructor(draggable) {\n\t\tsuper(draggable);\n\t\tthis.attach();\n\t}\n\n\tget grid() {\n\t\tconst { options } = this.draggable;\n\n\t\treturn Array.isArray(options.grid) && options.grid.length === 2 ? options.grid : null;\n\t}\n\n\tconstraintPosition = pos => {\n\t\tif (this.grid) {\n\t\t\tlet xMin, xMax, yMin, yMax;\n\t\t\tconst [x, y] = this.grid;\n\t\t\tconst { containmentCoords, containmentContainer, startEvent } = this.draggable;\n\t\t\tconst { click } = this.draggable.offset;\n\n\t\t\tif (containmentCoords) {\n\t\t\t\t[xMin, yMin, xMax, yMax] = containmentCoords;\n\n\t\t\t\tif (containmentCoords && containmentContainer) {\n\t\t\t\t\tconst containerOffset = offset(containmentContainer);\n\n\t\t\t\t\txMin += containerOffset.left;\n\t\t\t\t\tyMin += containerOffset.top;\n\t\t\t\t\txMax += containerOffset.left;\n\t\t\t\t\tyMax += containerOffset.top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst left = x ? startEvent.pageX + Math.round((pos.pageX - startEvent.pageX) / x) * x : startEvent.pageX;\n\t\t\tconst top = y ? startEvent.pageY + Math.round((pos.pageY - startEvent.pageY) / y) * y : startEvent.pageY;\n\n\t\t\tif (containmentCoords) {\n\t\t\t\tif (left - click.left >= xMin || left - click.left > xMax) {\n\t\t\t\t\tpos.pageX = left;\n\t\t\t\t} else {\n\t\t\t\t\tpos.pageX = left + x;\n\t\t\t\t}\n\t\t\t\tif (top - click.top >= yMin || top - click.top > yMax) {\n\t\t\t\t\tpos.pageY = top;\n\t\t\t\t} else {\n\t\t\t\t\tpos.pageY = top + y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tpos.pageX = left;\n\t\t\t\tpos.pageY = top;\n\t\t\t}\n\t\t}\n\n\t\treturn pos;\n\t};\n}\n","import { querySelectorAll, style } from 'dom-helpers';\n\nimport Plugin from './plugin';\nimport { styleAsNumber } from '../util';\n\nexport default class StackController extends Plugin {\n\tconstructor(draggable) {\n\t\tsuper(draggable);\n\t\tthis.attach();\n\t}\n\n\tget stack() {\n\t\tconst { options } = this.draggable;\n\n\t\treturn options.stack ? querySelectorAll(document, options.stack) : [];\n\t}\n\n\tonDragStart = event => {\n\t\tif (this.stack.length > 0) {\n\t\t\tconst { helper } = this.draggable;\n\t\t\tconst sorted = this.stack.sort((a, b) => styleAsNumber(a, 'zIndex') - styleAsNumber(b, 'zIndex'));\n\t\t\tconst min = styleAsNumber(sorted[0], 'zIndex');\n\n\t\t\tsorted.forEach((element, idx) => {\n\t\t\t\tstyle(element, {\n\t\t\t\t\tzIndex: min + idx\n\t\t\t\t});\n\t\t\t});\n\t\t\tstyle(helper, {\n\t\t\t\tzIndex: min + sorted.length\n\t\t\t});\n\t\t}\n\t};\n}\n","/* global HTMLElement */\nimport { style } from 'dom-helpers';\nimport isUndefined from 'lodash/isUndefined';\n\nimport Plugin from './plugin';\n\nexport default class StyleDecorator extends Plugin {\n\tstatic propertyCache = [];\n\n\tproperty = null;\n\n\ttarget = null;\n\n\tpreviousValue = null;\n\n\tconstructor(draggable, property, target = null) {\n\t\tsuper(draggable);\n\t\tthis.property = property;\n\t\tthis.target = target ? (target instanceof HTMLElement ? target : document.querySelector(target)) : null;\n\t\tthis.attach();\n\t}\n\n\tdetach() {\n\t\tthis.constructor.propertyCache = [];\n\t\tsuper.detach();\n\t}\n\n\tget value() {\n\t\tconst { options } = this.draggable;\n\n\t\treturn this.property && !isUndefined(options[this.property]) ? options[this.property] : null;\n\t}\n\n\tonDragStart = event => {\n\t\tif (!this.target) {\n\t\t\tthis.target = this.draggable.helper;\n\t\t}\n\t\tif (this.value !== null && !this.isSortableInDraggable()) {\n\t\t\tthis.previousValue = this.getPreviousValue();\n\t\t\tstyle(this.target, {\n\t\t\t\t[this.property]: this.value\n\t\t\t});\n\t\t}\n\t};\n\n\tonDragStop = event => {\n\t\tif (this.previousValue !== null) {\n\t\t\tstyle(this.target, {\n\t\t\t\t[this.property]: this.previousValue\n\t\t\t});\n\t\t\tthis.target = null;\n\t\t}\n\t};\n\n\tisSortableInDraggable() {\n\t\treturn this.startEvent === 'sort:start' && this.draggable.connectedDraggable;\n\t}\n\n\tgetPreviousValue() {\n\t\tconst { propertyCache } = this.constructor;\n\t\tlet entry = propertyCache.find(item => item.element === this.target && item.property === this.property);\n\n\t\tif (!entry) {\n\t\t\tentry = {\n\t\t\t\telement: this.target,\n\t\t\t\tproperty: this.property,\n\t\t\t\tvalue: style(this.target, this.property)\n\t\t\t};\n\t\t\tpropertyCache.push(entry);\n\t\t}\n\n\t\treturn entry.value;\n\t}\n}\n","export default class Sensor {\n\tcaller = null;\n\tactive = false;\n\tlastEvent = null;\n\n\tconstructor(caller) {\n\t\tthis.caller = caller;\n\t}\n\n\tattach() {}\n\n\tdetach() {}\n\n\tcancel(sensorEvent) {}\n\n\ttrigger(sensorEvent) {\n\t\tconst event = document.createEvent('Event');\n\n\t\tevent.detail = sensorEvent;\n\t\tevent.initEvent(sensorEvent.type, true, true);\n\t\tdocument.dispatchEvent(event);\n\t\tthis.lastEvent = event;\n\t}\n}\n","/* eslint-disable no-useless-return */\nimport { closest } from 'dom-helpers';\n\nimport Sensor from './sensor';\nimport { MouseStartEvent, MouseMoveEvent, MouseStopEvent } from './mouse-event';\n\nconst preventDefault = event => {\n\tevent.preventDefault();\n};\n\nexport default class MouseSensor extends Sensor {\n\tpageX = null;\n\n\tpageY = null;\n\n\tstartEvent = null;\n\n\tmouseMoved = false;\n\n\tconstructor(caller) {\n\t\tsuper(caller);\n\t\tthis.attach();\n\t}\n\n\tattach() {\n\t\tdocument.addEventListener('mousedown', this.onMouseDown, true);\n\t}\n\n\tdetach() {\n\t\tdocument.removeEventListener('mousedown', this.onMouseDown, true);\n\t}\n\n\tcancel = event => {\n\t\tthis.onMouseUp(event);\n\t};\n\n\tonMouseDown = event => {\n\t\tif (event.which !== 1 || event.button !== 0 || event.ctrlKey || event.metaKey) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.caller.options.skip && event.target.nodeName && closest(event.target, this.caller.options.skip)) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.active) {\n\t\t\tthis.onMouseUp(event);\n\t\t}\n\n\t\tthis.pageX = event.pageX;\n\t\tthis.pageY = event.pageY;\n\t\tthis.startEvent = event;\n\n\t\tdocument.addEventListener('dragstart', preventDefault);\n\t\tdocument.addEventListener('mousemove', this.checkThresholds);\n\t\tdocument.addEventListener('mouseup', this.onMouseUp);\n\t\tevent.preventDefault();\n\t};\n\n\tcheckThresholds = event => {\n\t\tconst { startEvent } = this;\n\t\tconst { distance } = this.caller.options;\n\n\t\tthis.pageX = event.pageX;\n\t\tthis.pageY = event.pageY;\n\n\t\tconst delta = Math.max(Math.abs(event.pageX - startEvent.pageX), Math.abs(event.pageY - startEvent.pageY));\n\n\t\tif (delta >= distance) {\n\t\t\tdocument.removeEventListener('mousemove', this.checkThresholds);\n\t\t\tthis.startDrag();\n\t\t}\n\t};\n\n\tstartDrag() {\n\t\tconst { startEvent } = this;\n\t\tconst mouseStart = new MouseStartEvent({\n\t\t\tpageX: startEvent.pageX,\n\t\t\tpageY: startEvent.pageY,\n\t\t\ttarget: startEvent.target,\n\t\t\tcaller: this.caller,\n\t\t\toriginalEvent: startEvent\n\t\t});\n\n\t\tthis.trigger(mouseStart);\n\t\tthis.active = !mouseStart.canceled;\n\t\tif (this.active) {\n\t\t\tdocument.addEventListener('contextmenu', preventDefault, true);\n\t\t\tdocument.addEventListener('mousemove', this.onMouseMove);\n\t\t}\n\t}\n\n\tonMouseMove = event => {\n\t\tif (this.active) {\n\t\t\tthis.trigger(\n\t\t\t\tnew MouseMoveEvent({\n\t\t\t\t\tpageX: event.pageX,\n\t\t\t\t\tpageY: event.pageY,\n\t\t\t\t\ttarget: document.elementFromPoint(event.pageX, event.pageY),\n\t\t\t\t\tcaller: this.caller,\n\t\t\t\t\toriginalEvent: event\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t};\n\n\tonMouseUp = event => {\n\t\tclearTimeout(this.startTimeout);\n\t\tdocument.removeEventListener('dragstart', preventDefault);\n\t\tdocument.removeEventListener('mousemove', this.checkThresholds);\n\t\tdocument.removeEventListener('mouseup', this.onMouseUp);\n\n\t\tif (this.active) {\n\t\t\tthis.active = false;\n\t\t\tthis.trigger(\n\t\t\t\tnew MouseStopEvent({\n\t\t\t\t\tpageX: event.pageX,\n\t\t\t\t\tpageY: event.pageY,\n\t\t\t\t\ttarget: document.elementFromPoint(event.pageX, event.pageY),\n\t\t\t\t\tcaller: this.caller,\n\t\t\t\t\toriginalEvent: event\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\tdocument.removeEventListener('contextmenu', preventDefault);\n\t\tdocument.removeEventListener('mousemove', this.onMouseMove);\n\t\tevent.preventDefault();\n\t};\n}\n","/*\n * anime.js v3.2.1\n * (c) 2020 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective', 'matrix', 'matrix3d'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  nil: function (a) { return is.und(a) || a === null; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; },\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright  2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.ceil((minMax(t, 0.000001, 1)) * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n    eases['easeOutIn' + name] = function (a, b) { return function (t) { return t < 0.5 ? (1 - easeIn(a, b)(1 - t * 2)) / 2 : \n      (easeIn(a, b)(t * 2 - 1) + 1) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (!is.nil(getAttribute(el, prop)) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width,\n    h: height,\n    vW: viewBox[2],\n    vH: viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress, isPathTargetInsideSVG) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  var scaleX = isPathTargetInsideSVG ? 1 : svg.w / svg.vW;\n  var scaleY = isPathTargetInsideSVG ? 1 : svg.h / svg.vH;\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * scaleX;\n    case 'y': return (p.y - svg.y) * scaleY;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isPathTargetInsideSVG = tween.isPath && is.svg(animatable.target);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\n\nvar engine = (function () {\n  var raf;\n\n  function play() {\n    if (!raf && (!isDocumentHidden() || !anime.suspendWhenDocumentHidden) && activeInstances.length > 0) {\n      raf = requestAnimationFrame(step);\n    }\n  }\n  function step(t) {\n    // memo on algorithm issue:\n    // dangerous iteration over mutable `activeInstances`\n    // (that collection may be updated from within callbacks of `tick`-ed animation instances)\n    var activeInstancesLength = activeInstances.length;\n    var i = 0;\n    while (i < activeInstancesLength) {\n      var activeInstance = activeInstances[i];\n      if (!activeInstance.paused) {\n        activeInstance.tick(t);\n        i++;\n      } else {\n        activeInstances.splice(i, 1);\n        activeInstancesLength--;\n      }\n    }\n    raf = i > 0 ? requestAnimationFrame(step) : undefined;\n  }\n\n  function handleVisibilityChange() {\n    if (!anime.suspendWhenDocumentHidden) { return; }\n\n    if (isDocumentHidden()) {\n      // suspend ticks\n      raf = cancelAnimationFrame(raf);\n    } else { // is back to active tab\n      // first adjust animations to consider the time that ticks were suspended\n      activeInstances.forEach(\n        function (instance) { return instance ._onDocumentVisibility(); }\n      );\n      engine();\n    }\n  }\n  if (typeof document !== 'undefined') {\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n  }\n\n  return play;\n})();\n\nfunction isDocumentHidden() {\n  return !!document && document.hidden;\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber, tween.isPathTargetInsideSVG);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // internal method (for engine) to adjust animation timings before restoring engine ticks (rAF)\n  instance._onDocumentVisibility = resetTime;\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    engine();\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    instance.completed = instance.reversed ? false : true;\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.remove = function(targets) {\n    var targetsArray = parseTargets(targets);\n    removeTargetsFromInstance(targetsArray, instance);\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargetsFromInstance(targetsArray, instance) {\n  var animations = instance.animations;\n  var children = instance.children;\n  removeTargetsFromAnimations(targetsArray, animations);\n  for (var c = children.length; c--;) {\n    var child = children[c];\n    var childAnimations = child.animations;\n    removeTargetsFromAnimations(targetsArray, childAnimations);\n    if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n  }\n  if (!animations.length && !children.length) { instance.pause(); }\n}\n\nfunction removeTargetsFromActiveInstances(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    removeTargetsFromInstance(targetsArray, instance);\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.2.1';\nanime.speed = 1;\n// TODO:#review: naming, documentation\nanime.suspendWhenDocumentHidden = true;\nanime.running = activeInstances;\nanime.remove = removeTargetsFromActiveInstances;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\nexport default anime;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n","var arrayEach = require('./_arrayEach'),\n    baseEach = require('./_baseEach'),\n    castFunction = require('./_castFunction'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nmodule.exports = forEach;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","import EventEmitter from 'events';\n\nexport default class CancelableEventEmitter extends EventEmitter {\n\twrappedListeners = [];\n\n\twrapListener(listener) {\n\t\tlet wrapped = this.wrappedListeners.find(item => item.listener === listener);\n\n\t\tif (!wrapped) {\n\t\t\twrapped = {\n\t\t\t\tlistener,\n\t\t\t\twrapped: event => {\n\t\t\t\t\tif (!event || !event.canceled) {\n\t\t\t\t\t\tlistener(event);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.wrappedListeners.push(wrapped);\n\t\t} else {\n\t\t\tthis.wrappedListeners = this.wrappedListeners.filter(item => item !== wrapped);\n\t\t}\n\n\t\treturn wrapped;\n\t}\n\n\taddListener(type, listener) {\n\t\tsuper.addListener(type, this.wrapListener(listener));\n\t}\n\n\tprependListener(type, listener) {\n\t\tsuper.prependListener(type, this.wrapListener(listener));\n\t}\n\n\tremoveListener(type, listener) {\n\t\tsuper.off(type, this.wrapListener(listener));\n\t}\n}\n","import AbstractEvent from '../event/abstract-event';\n\nexport class DraggableEvent extends AbstractEvent {\n\tstatic type = 'draggable';\n\n\tget draggable() {\n\t\treturn this.data.draggable || null;\n\t}\n}\n\nexport class DraggableInitEvent extends DraggableEvent {\n\tstatic type = 'draggable:init';\n}\n\nexport class DraggableDestroyEvent extends DraggableEvent {\n\tstatic type = 'draggable:destroy';\n}\n","import AbstractEvent from '../event/abstract-event';\n\nexport class DragEvent extends AbstractEvent {\n\tstatic type = 'drag';\n\n\tget source() {\n\t\treturn this.data.source || null;\n\t}\n\n\tget helper() {\n\t\treturn this.data.helper || null;\n\t}\n\n\tget sensorEvent() {\n\t\treturn this.data.sensorEvent || null;\n\t}\n\n\tget originalEvent() {\n\t\treturn this.data.originalEvent || null;\n\t}\n}\n\nexport class DragStartEvent extends DragEvent {\n\tstatic type = 'drag:start';\n\n\tstatic cancelable = true;\n}\n\nexport class DragMoveEvent extends DragEvent {\n\tstatic type = 'drag:move';\n\n\tstatic cancelable = true;\n\n\tget position() {\n\t\treturn this.data.position || null;\n\t}\n\n\tset position(value) {\n\t\tthis.data.position = value;\n\t}\n}\n\nexport class DragStopEvent extends DragEvent {\n\tstatic type = 'drag:stop';\n\n\tstatic cancelable = true;\n\n\tget droppable() {\n\t\treturn this.data.droppable || null;\n\t}\n\n\tset droppable(value) {\n\t\tthis.data.droppable = value;\n\t}\n}\n","/* eslint-disable no-useless-return */\n/* global HTMLElement */\nimport anime from 'animejs/lib/anime.es';\nimport forEach from 'lodash/forEach';\nimport isFunction from 'lodash/isFunction';\nimport isPlainObject from 'lodash/isPlainObject';\nimport {\n\taddClass,\n\tclosest,\n\theight,\n\tlisten,\n\toffset,\n\toffsetParent,\n\tposition,\n\tquerySelectorAll,\n\tremoveClass,\n\tscrollLeft,\n\tscrollTop,\n\tstyle,\n\twidth\n} from 'dom-helpers';\n\nimport DragDropManager from '../manager';\nimport EventEmitter from '../event/event-emitter';\nimport { DraggableInitEvent, DraggableDestroyEvent } from './draggable-event';\nimport { DragStartEvent, DragMoveEvent, DragStopEvent } from './drag-event';\nimport {\n\tPlugin,\n\tAxisConstraint,\n\tContainmentConstraint,\n\tGridConstraint,\n\tStyleDecorator,\n\tStackController,\n\tAutoScroll,\n\tConnectToSortable\n} from '../plugin';\nimport { Sensor, MouseSensor } from '../sensor';\nimport {\n\tblurActiveElement,\n\tcontains,\n\tcreateMouseStopEvent,\n\tgetParents,\n\tisRoot,\n\tsetPositionAbsolute,\n\tsetPositionRelative,\n\tscrollParent,\n\ttriggerEvent\n} from '../util';\nimport { draggableProp, draggableEl, draggableHandle, draggableHelper } from '../util/constants';\n\nexport default class Draggable {\n\tstatic defaultOptions = {\n\t\tappendTo: 'parent',\n\t\taxis: null,\n\t\tconnectToSortable: null,\n\t\tcontainment: null,\n\t\tcursor: null,\n\t\tdisabled: false,\n\t\tdistance: 0,\n\t\tgrid: null,\n\t\thandle: null,\n\t\thelper: 'original',\n\t\topacity: null,\n\t\trevert: false,\n\t\trevertDuration: 200,\n\t\tscope: 'default',\n\t\tscroll: true,\n\t\tscrollSensitivity: 20,\n\t\tscrollSpeed: 10,\n\t\tstack: null,\n\t\tskip: 'input, textarea, button, select, option',\n\t\tzIndex: null\n\t};\n\n\telement = null;\n\n\tmargins = null;\n\n\tdragging = false;\n\n\treverting = false;\n\n\thelper = null;\n\n\thelperSize = null;\n\n\thelperAttrs = null;\n\n\tstartEvent = null;\n\n\toffset = {\n\t\telement: null,\n\t\tclick: null,\n\t\tscroll: null,\n\t\tparent: null,\n\t\trelative: null\n\t};\n\n\tposition = {\n\t\toriginal: null,\n\t\tcurrent: null,\n\t\tabsolute: null\n\t};\n\n\temitter = new EventEmitter();\n\n\toptions = {};\n\n\tplugins = [];\n\n\tsensors = [];\n\n\tpendingDestroy = false;\n\n\tcancelHelperRemoval = false;\n\n\tcontainmentCoords = undefined;\n\n\tcontainmentContainer = null;\n\n\tscrollListeners = [];\n\n\tconnectedSortables = [];\n\n\tdroppedSortable = null;\n\n\tconstructor(element, options = {}, listeners = {}) {\n\t\tif (element instanceof HTMLElement) {\n\t\t\tthis.element = element;\n\t\t} else {\n\t\t\tthrow new Error('Invalid element');\n\t\t}\n\t\tthis.options = {\n\t\t\t...this.constructor.defaultOptions,\n\t\t\t...(isPlainObject(options) ? options : {})\n\t\t};\n\t\tif (isPlainObject(listeners)) {\n\t\t\tforEach(listeners, (callback, type) => {\n\t\t\t\tthis.on(type, callback);\n\t\t\t});\n\t\t}\n\t\tsetTimeout(() => {\n\t\t\tthis.setup();\n\t\t}, 0);\n\t}\n\n\taddPlugin(plugin) {\n\t\tif (plugin instanceof Plugin) {\n\t\t\tthis.plugins.push(plugin);\n\t\t}\n\t}\n\n\taddSensor(sensor) {\n\t\tif (sensor instanceof Sensor) {\n\t\t\tthis.sensors.push(sensor);\n\t\t}\n\t}\n\n\tsetDisabled(value) {\n\t\tthis.options.disabled = !!value;\n\t}\n\n\ton(type, callback) {\n\t\tthis.emitter.on(type, callback);\n\t}\n\n\toff(type, callback) {\n\t\tthis.emitter.off(type, callback);\n\t}\n\n\tcancel() {\n\t\tif (this.dragging) {\n\t\t\tthis.onDragCancel(createMouseStopEvent(this.helper));\n\t\t} else {\n\t\t\tthis.clear();\n\t\t}\n\t}\n\n\tdestroy() {\n\t\tif (this.dragging) {\n\t\t\tthis.pendingDestroy = true;\n\t\t\treturn;\n\t\t}\n\n\t\tthis.plugins.forEach(plugin => plugin.detach());\n\t\tthis.sensors.forEach(sensor => sensor.detach());\n\t\tdocument.removeEventListener('mouse:start', this.onDragStart);\n\t\tdocument.removeEventListener('mouse:move', this.onDragMove);\n\t\tdocument.removeEventListener('mouse:stop', this.onDragStop);\n\n\t\tdelete this.element[this.dataProperty];\n\t\tremoveClass(this.element, this.elementClass);\n\t\tthis.findHandles().forEach(handle => {\n\t\t\tremoveClass(handle, this.handleClass);\n\t\t});\n\n\t\tthis.trigger(\n\t\t\tnew DraggableDestroyEvent({\n\t\t\t\tdraggable: this\n\t\t\t})\n\t\t);\n\t}\n\n\tget disabled() {\n\t\treturn this.options.disabled;\n\t}\n\n\tget dataProperty() {\n\t\treturn draggableProp;\n\t}\n\n\tget elementClass() {\n\t\treturn draggableEl;\n\t}\n\n\tget handleClass() {\n\t\treturn draggableHandle;\n\t}\n\n\tget helperClass() {\n\t\treturn draggableHelper;\n\t}\n\n\tget scope() {\n\t\treturn this.options.scope;\n\t}\n\n\tget proportions() {\n\t\tconst { absolute } = this.position;\n\t\tconst { margins, helperSize } = this;\n\n\t\treturn {\n\t\t\tleft: absolute.left + margins.left,\n\t\t\ttop: absolute.top + margins.top,\n\t\t\tright: absolute.left + margins.left + helperSize.width,\n\t\t\tbottom: absolute.top + margins.top + helperSize.height,\n\t\t\twidth: helperSize.width,\n\t\t\theight: helperSize.height\n\t\t};\n\t}\n\n\tsetup = () => {\n\t\tthis.addPlugin(new AxisConstraint(this));\n\t\tthis.addPlugin(new ContainmentConstraint(this));\n\t\tthis.addPlugin(new GridConstraint(this));\n\t\tthis.addPlugin(new StyleDecorator(this, 'cursor'));\n\t\tthis.addPlugin(new StyleDecorator(this, 'opacity'));\n\t\tthis.addPlugin(new StyleDecorator(this, 'zIndex'));\n\t\tthis.addPlugin(new StackController(this));\n\t\tthis.addPlugin(new AutoScroll(this));\n\t\tthis.addPlugin(new ConnectToSortable(this));\n\t\tthis.addSensor(new MouseSensor(this));\n\t\tdocument.addEventListener('mouse:start', this.onDragStart);\n\t\tdocument.addEventListener('mouse:move', this.onDragMove);\n\t\tdocument.addEventListener('mouse:stop', this.onDragStop);\n\n\t\tif (this.options.helper === 'original') {\n\t\t\tsetPositionRelative(this.element);\n\t\t}\n\n\t\tthis.element[this.dataProperty] = this;\n\t\taddClass(this.element, this.elementClass);\n\t\tthis.findHandles().forEach(handle => {\n\t\t\taddClass(handle, this.handleClass);\n\t\t});\n\n\t\tthis.trigger(\n\t\t\tnew DraggableInitEvent({\n\t\t\t\tdraggable: this\n\t\t\t})\n\t\t);\n\t};\n\n\tonDragStart = event => {\n\t\tconst sensorEvent = event.detail;\n\n\t\tif (sensorEvent.caller !== this) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.disabled || this.reverting) {\n\t\t\tsensorEvent.cancel();\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.isInsideHandle(sensorEvent)) {\n\t\t\tsensorEvent.cancel();\n\t\t\treturn;\n\t\t}\n\n\t\tblurActiveElement(sensorEvent);\n\n\t\tthis.helper = this.createHelper(sensorEvent);\n\t\tif (!this.helper) {\n\t\t\tsensorEvent.cancel();\n\t\t\tthis.clear();\n\t\t\treturn;\n\t\t}\n\n\t\taddClass(this.helper, this.helperClass);\n\t\tthis.cacheMargins();\n\t\tthis.dragging = true;\n\t\tthis.cacheHelperSize();\n\t\tthis.cacheHelperAttrs();\n\t\tthis.startEvent = sensorEvent;\n\t\tthis.position.absolute = offset(this.element);\n\t\tthis.calculateOffsets(sensorEvent);\n\t\tthis.calculatePosition(sensorEvent, false);\n\n\t\tconst dragStart = new DragStartEvent({\n\t\t\tsource: this.element,\n\t\t\thelper: this.helper,\n\t\t\tsensorEvent,\n\t\t\toriginalEvent: sensorEvent.originalEvent\n\t\t});\n\n\t\tthis.trigger(dragStart);\n\t\tif (dragStart.canceled) {\n\t\t\tsensorEvent.cancel();\n\t\t\tthis.clear();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.cacheHelperSize();\n\n\t\tDragDropManager.prepareOffsets(this, sensorEvent);\n\n\t\tthis.onDragMove(event, true);\n\n\t\tthis.scrollListeners = getParents(this.element, 'body').map(parent =>\n\t\t\tlisten(parent, 'scroll', () => DragDropManager.prepareOffsets(this, event))\n\t\t);\n\t};\n\n\tonDragMove = (event, noPropagation = false) => {\n\t\tconst sensorEvent = event.detail;\n\n\t\tif (sensorEvent.caller !== this) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { hasFixedParent } = this.helperAttrs;\n\n\t\tif (hasFixedParent) {\n\t\t\tthis.offset.parent = this.getParentOffset();\n\t\t}\n\n\t\tthis.calculatePosition(sensorEvent);\n\n\t\tconst dragMove = new DragMoveEvent({\n\t\t\tsource: this.element,\n\t\t\thelper: this.helper,\n\t\t\tsensorEvent,\n\t\t\toriginalEvent: sensorEvent.originalEvent,\n\t\t\tposition: this.position.current\n\t\t});\n\n\t\tif (!noPropagation) {\n\t\t\tthis.trigger(dragMove);\n\t\t} else {\n\t\t\tthis.plugins.forEach(plugin => {\n\t\t\t\tif (!dragMove.canceled) {\n\t\t\t\t\tplugin.onDragMove(dragMove);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (dragMove.canceled) {\n\t\t\tthis.onDragCancel(createMouseStopEvent(this.helper));\n\t\t\treturn;\n\t\t} else {\n\t\t\tthis.position.current = dragMove.position;\n\t\t}\n\n\t\tstyle(this.helper, {\n\t\t\tleft: this.position.current.left + 'px',\n\t\t\ttop: this.position.current.top + 'px'\n\t\t});\n\n\t\tDragDropManager.onDragMove(this, sensorEvent);\n\t};\n\n\tonDragCancel = event => {\n\t\tconst sensorEvent = event.detail;\n\n\t\tthis.scrollListeners.forEach(listener => listener());\n\t\tthis.scrollListeners = [];\n\n\t\tDragDropManager.onDragStop(this, sensorEvent);\n\n\t\tif (this.findHandles().some(handle => handle === sensorEvent.target)) {\n\t\t\ttriggerEvent(this.element, 'focus');\n\t\t}\n\n\t\tthis.sensors.forEach(sensor => sensor.cancel(event));\n\t};\n\n\tonDragStop = event => {\n\t\tconst sensorEvent = event.detail;\n\n\t\tif (sensorEvent.caller !== this) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { revert, revertDuration } = this.options;\n\t\tconst { original } = this.position;\n\n\t\tconst dragStop = new DragStopEvent({\n\t\t\tsource: this.element,\n\t\t\thelper: this.helper,\n\t\t\tdroppable: DragDropManager.drop(this, sensorEvent),\n\t\t\tsensorEvent,\n\t\t\toriginalEvent: sensorEvent.originalEvent\n\t\t});\n\n\t\tif (\n\t\t\t(revert === 'invalid' && !dragStop.droppable) ||\n\t\t\t(revert === 'valid'   && dragStop.droppable)  ||\n\t\t\t(isFunction(revert)   && revert(this.element, dragStop.droppable)) ||\n\t\t\t(revert == true)\n\t\t) {\n\t\t\tthis.reverting = true;\n\t\t\tanime({\n\t\t\t\ttargets: [this.helper],\n\t\t\t\tleft: original.left + 'px',\n\t\t\t\ttop: original.top + 'px',\n\t\t\t\tduration: revertDuration,\n\t\t\t\teasing: 'linear',\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tthis.reverting = false;\n\t\t\t\t\tthis.trigger(dragStop);\n\t\t\t\t\tif (!dragStop.canceled) {\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.trigger(dragStop);\n\t\t\tif (!dragStop.canceled) {\n\t\t\t\tthis.clear();\n\t\t\t}\n\t\t}\n\t};\n\n\ttrigger(event) {\n\t\tthis.emitter.emit(event.type, event);\n\t\tif (/^drag:/.test(event.type)) {\n\t\t\tthis.position.absolute = this.convertPosition(this.position.current, 'absolute');\n\t\t}\n\t}\n\n\tfindHandles() {\n\t\tlet handles = null;\n\t\tconst { handle } = this.options;\n\n\t\tif (handle) {\n\t\t\thandles = querySelectorAll(this.element, handle);\n\t\t} else {\n\t\t\thandles = [this.element];\n\t\t}\n\n\t\treturn handles;\n\t}\n\n\tisInsideHandle(event) {\n\t\tlet inside = false;\n\n\t\tthis.findHandles().forEach(handle => {\n\t\t\tif (!inside && (handle === event.target || contains(handle, event.target))) {\n\t\t\t\tinside = true;\n\t\t\t}\n\t\t});\n\n\t\treturn inside;\n\t}\n\n\tcreateHelper(event) {\n\t\tlet helperNode = null;\n\t\tconst { appendTo, helper } = this.options;\n\n\t\tif (isFunction(helper)) {\n\t\t\thelperNode = helper.apply(this.element, [event]);\n\t\t} else if (helper === 'clone') {\n\t\t\thelperNode = this.element.cloneNode(true);\n\t\t\thelperNode.removeAttribute('id');\n\t\t\thelperNode.removeAttribute(this.dataProperty);\n\t\t\thelperNode[this.dataProperty] = this;\n\t\t} else {\n\t\t\thelperNode = this.element;\n\t\t}\n\t\tif (helperNode instanceof HTMLElement) {\n\t\t\tif (!closest(helperNode, 'body')) {\n\t\t\t\tconst parent = appendTo === 'parent' ? this.element.parentNode : document.querySelector(appendTo);\n\n\t\t\t\tif (parent instanceof HTMLElement) {\n\t\t\t\t\tparent.appendChild(helperNode);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isFunction(helper) && helperNode === this.element) {\n\t\t\t\tsetPositionRelative(this.element);\n\t\t\t}\n\t\t\tif (helperNode !== this.element) {\n\t\t\t\tsetPositionAbsolute(helperNode);\n\t\t\t}\n\n\t\t\treturn helperNode;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tcacheMargins() {\n\t\tthis.margins = {\n\t\t\tleft: parseInt(style(this.element, 'marginLeft'), 10) || 0,\n\t\t\ttop: parseInt(style(this.element, 'marginTop'), 10) || 0,\n\t\t\tright: parseInt(style(this.element, 'marginRight'), 10) || 0,\n\t\t\tbottom: parseInt(style(this.element, 'marginBottom'), 10) || 0\n\t\t};\n\t}\n\n\tcacheHelperSize() {\n\t\tthis.helperSize = {\n\t\t\twidth: width(this.helper),\n\t\t\theight: height(this.helper)\n\t\t};\n\t}\n\n\tcacheHelperAttrs() {\n\t\tthis.helperAttrs = {\n\t\t\tcssPosition: style(this.helper, 'position'),\n\t\t\tscrollParent: scrollParent(this.helper, false),\n\t\t\toffsetParent: offsetParent(this.helper),\n\t\t\thasFixedParent: getParents(this.helper).some(parent => style(parent, 'position') === 'fixed')\n\t\t};\n\t}\n\n\tcalculateOffsets(event) {\n\t\tconst { absolute } = this.position;\n\n\t\tthis.offset.click = {\n\t\t\tleft: event.pageX - absolute.left - this.margins.left,\n\t\t\ttop: event.pageY - absolute.top - this.margins.top\n\t\t};\n\t\tthis.offset.parent = this.getParentOffset();\n\t\tthis.offset.relative = this.getRelativeOffset();\n\t}\n\n\tgetParentOffset() {\n\t\tconst { cssPosition, scrollParent, offsetParent } = this.helperAttrs;\n\t\tconst result = isRoot(offsetParent)\n\t\t\t? {\n\t\t\t\t\tleft: 0,\n\t\t\t\t\ttop: 0\n\t\t\t  }\n\t\t\t: offset(offsetParent);\n\n\t\tif (cssPosition === 'absolute' && scrollParent !== document && contains(scrollParent, offsetParent)) {\n\t\t\tresult.left += scrollLeft(scrollParent);\n\t\t\tresult.top += scrollTop(scrollParent);\n\t\t}\n\n\t\treturn {\n\t\t\tleft: result.left + parseInt(style(offsetParent, 'borderLeftWidth'), 10) || 0,\n\t\t\ttop: result.top + parseInt(style(offsetParent, 'borderTopWidth'), 10) || 0\n\t\t};\n\t}\n\n\tgetRelativeOffset() {\n\t\tconst { cssPosition, scrollParent } = this.helperAttrs;\n\n\t\tif (cssPosition !== 'relative') {\n\t\t\treturn {\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 0\n\t\t\t};\n\t\t}\n\n\t\tconst result = position(this.helper);\n\t\tconst scrollIsRoot = scrollParent ? isRoot(scrollParent) : false;\n\n\t\treturn {\n\t\t\tleft: result.left - (parseInt(style(this.helper, 'left'), 10) || 0) + (scrollIsRoot ? scrollLeft(scrollParent) : 0),\n\t\t\ttop: result.top - (parseInt(style(this.helper, 'top'), 10) || 0) + (scrollIsRoot ? scrollTop(scrollParent) : 0)\n\t\t};\n\t}\n\n\tconstraintPosition(event) {\n\t\tlet position = {\n\t\t\tpageX: event.pageX,\n\t\t\tpageY: event.pageY\n\t\t};\n\n\t\tthis.plugins.forEach(plugin => {\n\t\t\tposition = plugin.constraintPosition(position);\n\t\t});\n\n\t\treturn position;\n\t}\n\n\tcalculatePosition(event, constraint = true) {\n\t\tconst { pageX, pageY } = constraint ? this.constraintPosition(event) : event;\n\t\tconst { cssPosition, offsetParent, scrollParent } = this.helperAttrs;\n\t\tconst scrollIsRoot = isRoot(scrollParent);\n\n\t\tif (!scrollIsRoot || !this.offset.scroll) {\n\t\t\tthis.offset.scroll = {\n\t\t\t\tleft: scrollIsRoot ? 0 : scrollLeft(scrollParent),\n\t\t\t\ttop: scrollIsRoot ? 0 : scrollTop(scrollParent)\n\t\t\t};\n\t\t}\n\n\t\tif (cssPosition === 'relative' && scrollParent === document && scrollParent !== offsetParent) {\n\t\t\tthis.offset.relative = this.getRelativeOffset();\n\t\t}\n\n\t\tconst { click, scroll, parent, relative } = this.offset;\n\t\tconst position = {\n\t\t\tleft: pageX - click.left - parent.left - relative.left + (cssPosition === 'fixed' ? -scroll.left : scrollIsRoot ? 0 : scroll.left),\n\t\t\ttop: pageY - click.top - parent.top - relative.top + (cssPosition === 'fixed' ? -scroll.top : scrollIsRoot ? 0 : scroll.top)\n\t\t};\n\n\t\tif (!this.position.original) {\n\t\t\tthis.position.original = position;\n\t\t}\n\t\tthis.position.current = position;\n\t\tthis.position.absolute = this.convertPosition(position, 'absolute');\n\t}\n\n\tconvertPosition(position, to) {\n\t\tconst { cssPosition, scrollParent } = this.helperAttrs;\n\t\tconst { scroll, parent, relative } = this.offset;\n\t\tconst factor = to === 'absolute' ? 1 : -1;\n\t\tconst scrollIsRoot = isRoot(scrollParent);\n\n\t\treturn {\n\t\t\tleft:\n\t\t\t\tposition.left +\n\t\t\t\tparent.left * factor +\n\t\t\t\trelative.left * factor -\n\t\t\t\t(cssPosition === 'fixed' ? -scroll.left : (scrollIsRoot ? 0 : scroll.left) * factor),\n\t\t\ttop:\n\t\t\t\tposition.top +\n\t\t\t\tparent.top * factor +\n\t\t\t\trelative.top * factor -\n\t\t\t\t(cssPosition === 'fixed' ? -scroll.top : (scrollIsRoot ? 0 : scroll.top) * factor)\n\t\t};\n\t}\n\n\tclear() {\n\t\tif (this.helper) {\n\t\t\tconst { helper } = this.options;\n\n\t\t\tremoveClass(this.helper, this.helperClass);\n\t\t\tthis.dragging = false;\n\t\t\tif (this.helper && helper === 'clone' && !this.cancelHelperRemoval) {\n\t\t\t\tthis.helper.parentNode.removeChild(this.helper);\n\t\t\t}\n\t\t\tthis.cancelHelperRemoval = false;\n\t\t\tthis.helper = null;\n\t\t\tif (this.pendingDestroy) {\n\t\t\t\tthis.destroy();\n\t\t\t\tthis.pendingDestroy = false;\n\t\t\t}\n\t\t}\n\t}\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport css from './css';\nimport getOffset from './offset';\nimport getOffsetParent from './offsetParent';\nimport scrollLeft from './scrollLeft';\nimport scrollTop from './scrollTop';\n\nvar nodeName = function nodeName(node) {\n  return node.nodeName && node.nodeName.toLowerCase();\n};\n/**\n * Returns the relative position of a given element.\n * \n * @param node the element\n * @param offsetParent the offset parent\n */\n\n\nexport default function position(node, offsetParent) {\n  var parentOffset = {\n    top: 0,\n    left: 0\n  };\n  var offset; // Fixed elements are offset from window (parentOffset = {top:0, left: 0},\n  // because it is its only offset parent\n\n  if (css(node, 'position') === 'fixed') {\n    offset = node.getBoundingClientRect();\n  } else {\n    var parent = offsetParent || getOffsetParent(node);\n    offset = getOffset(node);\n    if (nodeName(parent) !== 'html') parentOffset = getOffset(parent);\n    var borderTop = String(css(parent, 'borderTopWidth') || 0);\n    parentOffset.top += parseInt(borderTop, 10) - scrollTop(parent) || 0;\n    var borderLeft = String(css(parent, 'borderLeftWidth') || 0);\n    parentOffset.left += parseInt(borderLeft, 10) - scrollLeft(parent) || 0;\n  }\n\n  var marginTop = String(css(node, 'marginTop') || 0);\n  var marginLeft = String(css(node, 'marginLeft') || 0); // Subtract parent offsets and node margins\n\n  return _extends({}, offset, {\n    top: offset.top - parentOffset.top - (parseInt(marginTop, 10) || 0),\n    left: offset.left - parentOffset.left - (parseInt(marginLeft, 10) || 0)\n  });\n}","import AbstractEvent from '../event/abstract-event';\n\nexport class DroppableEvent extends AbstractEvent {\n\tstatic type = 'droppable';\n\n\tget droppable() {\n\t\treturn this.data.droppable || null;\n\t}\n}\n\nexport class DroppableInitEvent extends DroppableEvent {\n\tstatic type = 'droppable:init';\n}\n\nexport class DroppableActivateEvent extends DroppableEvent {\n\tstatic type = 'droppable:activate';\n\n\tget sensorEvent() {\n\t\treturn this.data.sensorEvent || null;\n\t}\n\n\tget draggable() {\n\t\treturn this.data.draggable || null;\n\t}\n}\n\nexport class DroppableOverEvent extends DroppableActivateEvent {\n\tstatic type = 'droppable:over';\n}\n\nexport class DroppableDropEvent extends DroppableActivateEvent {\n\tstatic type = 'droppable:drop';\n}\n\nexport class DroppableOutEvent extends DroppableActivateEvent {\n\tstatic type = 'droppable:out';\n}\n\nexport class DroppableDeactivateEvent extends DroppableActivateEvent {\n\tstatic type = 'droppable:deactivate';\n}\n\nexport class DroppableDestroyEvent extends DroppableEvent {\n\tstatic type = 'droppable:destroy';\n}\n","/* global HTMLElement */\nimport forEach from 'lodash/forEach';\nimport isFunction from 'lodash/isFunction';\nimport isPlainObject from 'lodash/isPlainObject';\nimport { addClass, height, matches, offset, querySelectorAll, removeClass, style, width } from 'dom-helpers';\n\nimport DragDropManager from '../manager';\nimport EventEmitter from '../event/event-emitter';\nimport {\n\tDroppableInitEvent,\n\tDroppableActivateEvent,\n\tDroppableOverEvent,\n\tDroppableDropEvent,\n\tDroppableOutEvent,\n\tDroppableDeactivateEvent,\n\tDroppableDestroyEvent\n} from './droppable-event';\nimport { intersect } from '../util';\nimport { droppableProp, droppableEl, droppableActive, droppableHover } from '../util/constants';\n\nexport default class Droppable {\n\tstatic defaultOptions = {\n\t\taccept: '*',\n\t\tdisabled: false,\n\t\tgreedy: false,\n\t\tscope: 'default',\n\t\ttolerance: 'intersect'\n\t};\n\n\telement = null;\n\n\tisOver = false;\n\n\tvisible = true;\n\n\tgreedyChild = false;\n\n\temitter = new EventEmitter();\n\n\toptions = {};\n\n\tsize = null;\n\n\toffset = null;\n\n\tconstructor(element, options = {}, listeners = {}) {\n\t\tif (element instanceof HTMLElement) {\n\t\t\tthis.element = element;\n\t\t} else {\n\t\t\tthrow new Error('Invalid element');\n\t\t}\n\t\tthis.options = {\n\t\t\t...this.constructor.defaultOptions,\n\t\t\t...(isPlainObject(options) ? options : {})\n\t\t};\n\t\tif (isPlainObject(listeners)) {\n\t\t\tforEach(listeners, (callback, type) => {\n\t\t\t\tthis.on(type, callback);\n\t\t\t});\n\t\t}\n\t\tsetTimeout(this.setup, 0);\n\t}\n\n\tsetDisabled(value) {\n\t\tthis.options.disabled = !!value;\n\t}\n\n\tdestroy() {\n\t\tconst { scope } = this.options;\n\n\t\tdelete this.element[this.dataProperty];\n\t\tremoveClass(this.element, this.elementClass);\n\t\tDragDropManager.removeDroppable(this, scope);\n\n\t\tthis.trigger(\n\t\t\tnew DroppableDestroyEvent({\n\t\t\t\tdroppable: this\n\t\t\t})\n\t\t);\n\t}\n\n\tget disabled() {\n\t\treturn this.options.disabled;\n\t}\n\n\tget dataProperty() {\n\t\treturn droppableProp;\n\t}\n\n\tget elementClass() {\n\t\treturn droppableEl;\n\t}\n\n\tget activeClass() {\n\t\treturn droppableActive;\n\t}\n\n\tget hoverClass() {\n\t\treturn droppableHover;\n\t}\n\n\tget greedy() {\n\t\treturn this.options.greedy;\n\t}\n\n\tget scope() {\n\t\treturn this.options.scope;\n\t}\n\n\tget proportions() {\n\t\tif (!this.offset) {\n\t\t\tthis.offset = offset(this.element);\n\t\t}\n\t\tif (!this.size) {\n\t\t\tthis.size = {\n\t\t\t\twidth: width(this.element),\n\t\t\t\theight: height(this.element)\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tleft: this.offset.left,\n\t\t\ttop: this.offset.top,\n\t\t\tright: this.offset.left + this.size.width,\n\t\t\tbottom: this.offset.top + this.size.height,\n\t\t\twidth: this.size.width,\n\t\t\theight: this.size.height\n\t\t};\n\t}\n\n\tsetup = () => {\n\t\tconst { scope } = this.options;\n\n\t\tthis.element[this.dataProperty] = this;\n\t\taddClass(this.element, this.elementClass);\n\t\tDragDropManager.addDroppable(this, scope);\n\n\t\tthis.trigger(\n\t\t\tnew DroppableInitEvent({\n\t\t\t\tdroppable: this\n\t\t\t})\n\t\t);\n\t};\n\n\trefreshVisibility() {\n\t\tthis.visible = style(this.element, 'display') !== 'none';\n\t}\n\n\trefreshProportions() {\n\t\tthis.offset = offset(this.element);\n\t\tthis.size = {\n\t\t\twidth: width(this.element),\n\t\t\theight: height(this.element)\n\t\t};\n\t}\n\n\tintersect(draggable, event) {\n\t\tconst { tolerance } = this.options;\n\n\t\tif (this.disabled || this.greedyChild || !this.visible) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn intersect(draggable.proportions, this.proportions, tolerance, event);\n\t}\n\n\taccept(draggable) {\n\t\tconst { accept } = this.options;\n\n\t\tif (this.disabled || !this.visible) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (draggable) {\n\t\t\treturn isFunction(accept)\n\t\t\t\t? accept(draggable.currentItem || draggable.element)\n\t\t\t\t: matches(draggable.currentItem || draggable.element, accept);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tactivate(event) {\n\t\tconst draggable = DragDropManager.draggable;\n\n\t\taddClass(this.element, this.activeClass);\n\t\tif (draggable) {\n\t\t\tthis.trigger(\n\t\t\t\tnew DroppableActivateEvent({\n\t\t\t\t\tdroppable: this,\n\t\t\t\t\tsensorEvent: event,\n\t\t\t\t\tdraggable\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t}\n\n\tover(event) {\n\t\tconst draggable = DragDropManager.draggable;\n\n\t\tif (draggable && (draggable.currentItem || draggable.element) !== this.element && this.accept(draggable)) {\n\t\t\taddClass(this.element, this.hoverClass);\n\t\t\tthis.isOver = true;\n\t\t\tthis.trigger(\n\t\t\t\tnew DroppableOverEvent({\n\t\t\t\t\tdroppable: this,\n\t\t\t\t\tsensorEvent: event,\n\t\t\t\t\tdraggable\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t}\n\n\tdrop(event) {\n\t\tconst draggable = DragDropManager.draggable;\n\t\tlet childIntersection = false;\n\n\t\tif (draggable && (draggable.currentItem && draggable.element) !== this.element) {\n\t\t\tconst childDroppables = querySelectorAll(this.element, ':not(.ui-draggable-dragging)').filter(element => element[this.dataProperty]);\n\n\t\t\tchildDroppables.forEach(child => {\n\t\t\t\tconst droppable = child[this.dataProperty];\n\n\t\t\t\tif (\n\t\t\t\t\t!childIntersection &&\n\t\t\t\t\tdroppable.greedy &&\n\t\t\t\t\tdroppable.scope === draggable.scope &&\n\t\t\t\t\tdroppable.intersect(draggable, event) &&\n\t\t\t\t\tdroppable.accept(draggable)\n\t\t\t\t) {\n\t\t\t\t\tchildIntersection = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (childIntersection) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (this.accept(draggable)) {\n\t\t\t\tremoveClass(this.element, this.activeClass);\n\t\t\t\tremoveClass(this.element, this.hoverClass);\n\t\t\t\tthis.isOver = false;\n\t\t\t\tthis.trigger(\n\t\t\t\t\tnew DroppableDropEvent({\n\t\t\t\t\t\tdroppable: this,\n\t\t\t\t\t\tsensorEvent: event,\n\t\t\t\t\t\tdraggable\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tout(event) {\n\t\tconst draggable = DragDropManager.draggable;\n\n\t\tif (draggable && (draggable.currentItem || draggable.element) !== this.element && this.accept(draggable)) {\n\t\t\tremoveClass(this.element, this.hoverClass);\n\t\t\tthis.isOver = false;\n\t\t\tthis.trigger(\n\t\t\t\tnew DroppableOutEvent({\n\t\t\t\t\tdroppable: this,\n\t\t\t\t\tsensorEvent: event,\n\t\t\t\t\tdraggable\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t}\n\n\tdeactivate(event) {\n\t\tconst draggable = DragDropManager.draggable;\n\n\t\tremoveClass(this.element, this.activeClass);\n\t\tthis.isOver = false;\n\t\tif (draggable) {\n\t\t\tthis.trigger(\n\t\t\t\tnew DroppableDeactivateEvent({\n\t\t\t\t\tdroppable: this,\n\t\t\t\t\tsensorEvent: event,\n\t\t\t\t\tdraggable\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t}\n\n\ton(type, callback) {\n\t\tthis.emitter.on(type, callback);\n\t}\n\n\toff(type, callback) {\n\t\tthis.emitter.off(type, callback);\n\t}\n\n\ttrigger(event) {\n\t\tthis.emitter.emit(event.type, event);\n\t}\n}\n","import AbstractEvent from '../event/abstract-event';\n\nclass SortEvent extends AbstractEvent {\n\tstatic type = 'sort';\n\n\tget source() {\n\t\treturn this.data.source || null;\n\t}\n\n\tget helper() {\n\t\treturn this.data.helper || null;\n\t}\n\n\tget placeholder() {\n\t\treturn this.data.placeholder || null;\n\t}\n\n\tget sensorEvent() {\n\t\treturn this.data.sensorEvent || null;\n\t}\n\n\tget originalEvent() {\n\t\treturn this.data.originalEvent || null;\n\t}\n}\n\nexport class SortStartEvent extends SortEvent {\n\tstatic type = 'sort:start';\n\n\tstatic cancelable = true;\n}\n\nexport class SortMoveEvent extends SortEvent {\n\tstatic type = 'sort:move';\n\n\tstatic cancelable = true;\n\n\tget position() {\n\t\treturn this.data.position || null;\n\t}\n}\n\nexport class SortStopEvent extends SortEvent {\n\tstatic type = 'sort:stop';\n\n\tstatic cancelable = true;\n\n\tget droppable() {\n\t\treturn this.data.droppable || null;\n\t}\n}\n","/* global HTMLElement */\nimport anime from 'animejs/lib/anime.es';\nimport {\n\taddClass,\n\tclosest,\n\theight,\n\tlisten,\n\toffset,\n\toffsetParent,\n\tquerySelectorAll,\n\tremoveClass,\n\tscrollLeft,\n\tscrollParent,\n\tscrollTop,\n\tstyle,\n\twidth\n} from 'dom-helpers';\nimport forEach from 'lodash/forEach';\nimport isFunction from 'lodash/isFunction';\n\nimport Draggable from '../draggable/draggable';\nimport DragDropManager from '../manager';\nimport {\n\tSortableInitEvent,\n\tSortableActivateEvent,\n\tSortableOverEvent,\n\tSortableChangeEvent,\n\tSortableRemoveEvent,\n\tSortableReceiveEvent,\n\tSortableUpdateEvent,\n\tSortableOutEvent,\n\tSortableDeactivateEvent,\n\tSortableDestroyEvent\n} from './sortable-event';\nimport { SortStartEvent, SortMoveEvent, SortStopEvent } from './sort-event';\nimport { AxisConstraint, ContainmentConstraint, GridConstraint, StyleDecorator, AutoScroll } from '../plugin';\nimport { MouseSensor } from '../sensor';\nimport {\n\tcontains,\n\tcreateMouseStopEvent,\n\tgetParents,\n\tgetSibling,\n\thide,\n\tinsertBefore,\n\tinsertAfter,\n\tisFloating,\n\tisRoot,\n\tsetPositionAbsolute,\n\tshow,\n\tstyleAsNumber,\n\ttoArray\n} from '../util';\nimport { sortableProp, sortableEl, sortableHandle, sortableHelper, sortablePlaceholder } from '../util/constants';\n\nexport default class Sortable extends Draggable {\n\tstatic defaultOptions = {\n\t\tappendTo: 'parent',\n\t\taxis: null,\n\t\tconnectWith: null,\n\t\tcontainment: null,\n\t\tcursor: null,\n\t\tdisabled: false,\n\t\tdistance: 0,\n\t\tdropOnEmpty: true,\n\t\tforceHelperSize: false,\n\t\tforcePlaceholderSize: false,\n\t\tgrid: null,\n\t\thandle: null,\n\t\thelper: 'original',\n\t\titems: null,\n\t\topacity: null,\n\t\trevert: false,\n\t\trevertDuration: 200,\n\t\tscope: 'default',\n\t\tscroll: true,\n\t\tscrollSensitivity: 20,\n\t\tscrollSpeed: 10,\n\t\tskip: 'input, textarea, button, select, option',\n\t\ttolerance: 'intersect',\n\t\tzIndex: null\n\t};\n\n\tconnectedSortables = [];\n\n\tcurrentConnectedSortable = null;\n\n\tconnectedDraggable = null;\n\n\titems = [];\n\n\tcurrentItem = null;\n\n\tcurrentItemStyle = {};\n\n\tcurrentItemRefs = null;\n\n\telementProportions = null;\n\n\tplaceholder = null;\n\n\tisOver = false;\n\n\tisDraggableOver = false;\n\n\tfloating = false;\n\n\tpreviousPosition = null;\n\n\tresetCurrentItem = false;\n\n\trearrangeIteration = 0;\n\n\tcancel() {\n\t\tthis.resetCurrentItem = true;\n\t\tsuper.cancel();\n\t}\n\n\tdestroy() {\n\t\tif (this.dragging) {\n\t\t\tthis.pendingDestroy = true;\n\t\t\treturn;\n\t\t}\n\n\t\tthis.plugins.forEach(plugin => plugin.detach());\n\t\tthis.sensors.forEach(sensor => sensor.detach());\n\t\tdocument.removeEventListener('mouse:start', this.onDragStart);\n\t\tdocument.removeEventListener('mouse:move', this.onDragMove);\n\t\tdocument.removeEventListener('mouse:stop', this.onDragStop);\n\n\t\tdelete this.element[this.dataProperty];\n\t\tremoveClass(this.element, this.elementClass);\n\t\tthis.items.forEach(item => delete item.element[this.dataProperty]);\n\t\tthis.findHandles().forEach(handle => {\n\t\t\tremoveClass(handle, this.handleClass);\n\t\t});\n\n\t\tthis.trigger(\n\t\t\tnew SortableDestroyEvent({\n\t\t\t\tsortable: this\n\t\t\t})\n\t\t);\n\t}\n\n\tget dataProperty() {\n\t\treturn sortableProp;\n\t}\n\n\tget elementClass() {\n\t\treturn sortableEl;\n\t}\n\n\tget handleClass() {\n\t\treturn sortableHandle;\n\t}\n\n\tget helperClass() {\n\t\treturn sortableHelper;\n\t}\n\n\tget placeholderClass() {\n\t\treturn sortablePlaceholder;\n\t}\n\n\tsetup = () => {\n\t\tthis.addPlugin(new AxisConstraint(this));\n\t\tthis.addPlugin(new ContainmentConstraint(this));\n\t\tthis.addPlugin(new GridConstraint(this));\n\t\tthis.addPlugin(new StyleDecorator(this, 'cursor'));\n\t\tthis.addPlugin(new StyleDecorator(this, 'opacity'));\n\t\tthis.addPlugin(new StyleDecorator(this, 'zIndex'));\n\t\tthis.addPlugin(new AutoScroll(this));\n\t\tthis.addSensor(new MouseSensor(this));\n\t\tdocument.addEventListener('mouse:start', this.onDragStart);\n\t\tdocument.addEventListener('mouse:move', this.onDragMove);\n\t\tdocument.addEventListener('mouse:stop', this.onDragStop);\n\n\t\tthis.element[this.dataProperty] = this;\n\t\taddClass(this.element, this.elementClass);\n\t\tthis.refresh();\n\t\tthis.offset.element = offset(this.element);\n\n\t\tthis.trigger(\n\t\t\tnew SortableInitEvent({\n\t\t\t\tsortable: this\n\t\t\t})\n\t\t);\n\t};\n\n\tonDragStart = (event, noActivation = false, forceOwnership = false) => {\n\t\tconst sensorEvent = event.detail;\n\n\t\tif (sensorEvent.caller !== this && !forceOwnership) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.disabled || this.reverting) {\n\t\t\tsensorEvent.cancel();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.refreshItems();\n\t\tthis.currentItem = this.findItem(sensorEvent);\n\t\tif (!this.currentItem) {\n\t\t\tsensorEvent.cancel();\n\t\t\treturn;\n\t\t} else {\n\t\t\tthis.currentItemRefs = {\n\t\t\t\tprevious: this.currentItem.previousElementSibling,\n\t\t\t\tparent: this.currentItem.parentNode\n\t\t\t};\n\t\t\tthis.refreshPositions();\n\t\t}\n\n\t\tif (!this.isInsideHandle(sensorEvent)) {\n\t\t\tsensorEvent.cancel();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.helper = this.createHelper(sensorEvent);\n\t\tif (!this.helper) {\n\t\t\tsensorEvent.cancel();\n\t\t\treturn;\n\t\t}\n\t\tthis.createPlaceholder();\n\n\t\taddClass(this.helper, this.helperClass);\n\t\tthis.cacheMargins();\n\t\tthis.currentConnectedSortable = this;\n\t\tthis.dragging = true;\n\t\tthis.cacheHelperSize();\n\t\tthis.helperAttrs = {\n\t\t\tscrollParent: scrollParent(this.helper, false)\n\t\t};\n\t\tthis.startEvent = sensorEvent;\n\t\tthis.calculateOffsets(sensorEvent);\n\t\tthis.calculatePosition(sensorEvent, false);\n\t\tthis.items = this.items.filter(item => item.element !== this.currentItem);\n\t\tsetPositionAbsolute(this.helper);\n\t\tthis.helperAttrs.cssPosition = 'absolute';\n\t\tif (this.helper !== this.currentItem) {\n\t\t\thide(this.currentItem);\n\t\t}\n\n\t\tconst sortStart = new SortStartEvent({\n\t\t\tsource: this.currentItem,\n\t\t\tsensorEvent,\n\t\t\toriginalEvent: sensorEvent.originalEvent\n\t\t});\n\n\t\tthis.trigger(sortStart);\n\t\tif (sortStart.canceled) {\n\t\t\tsensorEvent.cancel();\n\t\t\tthis.clear();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.cacheHelperSize();\n\n\t\tif (!noActivation) {\n\t\t\tthis.connectedSortables.forEach(sortable => {\n\t\t\t\tsortable.trigger(\n\t\t\t\t\tnew SortableActivateEvent({\n\t\t\t\t\t\tsortable,\n\t\t\t\t\t\tsensorEvent,\n\t\t\t\t\t\tpeerSortable: this\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\tDragDropManager.prepareOffsets(this, sensorEvent);\n\n\t\tthis.onDragMove(event, true, forceOwnership);\n\n\t\tthis.scrollListeners = getParents(this.element, 'body').map(parent =>\n\t\t\tlisten(parent, 'scroll', () => DragDropManager.prepareOffsets(this, event))\n\t\t);\n\t};\n\n\tonDragMove = (event, noPropagation = false, forceOwnership = false) => {\n\t\tconst sensorEvent = event.detail;\n\n\t\tif ((sensorEvent.caller !== this || !this.dragging) && !forceOwnership) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.calculatePosition(sensorEvent);\n\t\tif (!this.previousPosition) {\n\t\t\tthis.previousPosition = this.position.absolute;\n\t\t}\n\t\tif (!noPropagation) {\n\t\t\tconst sortMove = new SortMoveEvent({\n\t\t\t\tsource: this.currentItem,\n\t\t\t\thelper: this.helper,\n\t\t\t\tplaceholder: this.placeholder,\n\t\t\t\tsensorEvent,\n\t\t\t\toriginalEvent: sensorEvent.originalEvent,\n\t\t\t\tposition: this.position.current\n\t\t\t});\n\n\t\t\tthis.trigger(sortMove);\n\t\t\tif (sortMove.canceled) {\n\t\t\t\tthis.onDragCancel(createMouseStopEvent(this.helper));\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tstyle(this.helper, {\n\t\t\tleft: this.position.current.left + 'px',\n\t\t\ttop: this.position.current.top + 'px'\n\t\t});\n\n\t\tlet foundItem = null;\n\n\t\tthis.items.forEach(item => {\n\t\t\tif (!foundItem && item.instance === this.currentConnectedSortable) {\n\t\t\t\tconst intersection = this.getPointerIntersection(item);\n\n\t\t\t\tif (intersection) {\n\t\t\t\t\tconst { tolerance } = this.options;\n\t\t\t\t\tconst { element } = item;\n\n\t\t\t\t\tif (\n\t\t\t\t\t\telement !== this.currentItem &&\n\t\t\t\t\t\telement !== this.placeholder[intersection === 1 ? 'nextElementSibling' : 'previousElementSibling'] &&\n\t\t\t\t\t\t!contains(this.placeholder, element)\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst direction = intersection === 1 ? 'down' : 'up';\n\n\t\t\t\t\t\tif (tolerance === 'pointer' || this.intersectsWithSides(item)) {\n\t\t\t\t\t\t\tthis.rearrange(null, item, direction);\n\t\t\t\t\t\t\tthis.trigger(\n\t\t\t\t\t\t\t\tnew SortableChangeEvent({\n\t\t\t\t\t\t\t\t\tsortable: this\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tfoundItem = item;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.contactSortables(sensorEvent);\n\n\t\tDragDropManager.onDragMove(this, sensorEvent);\n\t\tthis.previousPosition = this.position.absolute;\n\t};\n\n\tonDragCancel = event => {\n\t\tconst sensorEvent = event.detail;\n\n\t\tthis.scrollListeners.forEach(listener => listener());\n\t\tthis.scrollListeners = [];\n\n\t\tDragDropManager.onDragStop(this, sensorEvent);\n\n\t\tthis.sensors.forEach(sensor => sensor.cancel(event));\n\t};\n\n\tonDragStop = (event, forceOwnership = false) => {\n\t\tconst sensorEvent = event.detail;\n\n\t\tif ((sensorEvent.caller !== this || !this.dragging) && !forceOwnership) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { revert, revertDuration } = this.options;\n\t\tconst { original } = this.position;\n\n\t\tconst sortStop = new SortStopEvent({\n\t\t\tsource: this.currentItem,\n\t\t\thelper: this.helper,\n\t\t\tdroppable: DragDropManager.drop(this, sensorEvent),\n\t\t\tsensorEvent,\n\t\t\toriginalEvent: sensorEvent.originalEvent\n\t\t});\n\n\t\tif (\n\t\t\t(revert === 'invalid' && !sortStop.droppable) ||\n\t\t\t(revert === 'valid'   && sortStop.droppable)  ||\n\t\t\t(isFunction(revert)   && revert(this.currentItem, sortStop.droppable)) ||\n\t\t\t(revert == true)\n\t\t) {\n\t\t\tthis.reverting = true;\n\t\t\tanime({\n\t\t\t\ttargets: [this.helper],\n\t\t\t\tleft: original.left + 'px',\n\t\t\t\ttop: original.top + 'px',\n\t\t\t\tduration: revertDuration,\n\t\t\t\teasing: 'linear',\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tthis.reverting = false;\n\t\t\t\t\tthis.trigger(sortStop);\n\t\t\t\t\tif (!sortStop.canceled) {\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.trigger(sortStop);\n\t\t\tif (!sortStop.canceled) {\n\t\t\t\tthis.clear();\n\t\t\t}\n\t\t}\n\t};\n\n\tover(peerSortable = null, draggable = null) {\n\t\tif (!this.isOver) {\n\t\t\tthis.trigger(\n\t\t\t\tnew SortableOverEvent({\n\t\t\t\t\tsortable: this,\n\t\t\t\t\tpeerSortable,\n\t\t\t\t\tdraggable\n\t\t\t\t})\n\t\t\t);\n\t\t\tthis.isOver = true;\n\t\t}\n\t}\n\n\tout(peerSortable = null, draggable = null) {\n\t\tif (this.isOver) {\n\t\t\tthis.trigger(\n\t\t\t\tnew SortableOutEvent({\n\t\t\t\t\tsortable: this,\n\t\t\t\t\tpeerSortable,\n\t\t\t\t\tdraggable\n\t\t\t\t})\n\t\t\t);\n\t\t\tthis.isOver = false;\n\t\t}\n\t}\n\n\trefresh() {\n\t\tthis.refreshItems();\n\t\tthis.refreshPositions();\n\t\tthis.findHandles().forEach(handle => {\n\t\t\taddClass(handle, this.handleClass);\n\t\t});\n\t}\n\n\trefreshItems() {\n\t\tconst { connectWith } = this.options;\n\n\t\tthis.connectedSortables = [this];\n\t\tthis.items = this.findItems();\n\n\t\tconst connectedSortables = connectWith ? querySelectorAll(document, connectWith) : [];\n\n\t\tconnectedSortables.forEach(element => {\n\t\t\tconst sortable = element[this.dataProperty];\n\n\t\t\tif (sortable && sortable !== this && !sortable.disabled) {\n\t\t\t\tthis.items = this.items.concat(sortable.findItems(null, this.currentItem));\n\t\t\t\tthis.connectedSortables.push(sortable);\n\t\t\t}\n\t\t});\n\t}\n\n\trefreshPositions() {\n\t\tconst { axis } = this.options;\n\n\t\tthis.floating = this.items.length ? axis === 'x' || isFloating(this.items[0].element) : false;\n\t\tif (this.helper && this.helperAttrs && this.helperAttrs.offsetParent) {\n\t\t\tthis.offset.parent = this.getParentOffset();\n\t\t}\n\n\t\tthis.items.forEach(item => {\n\t\t\tif (!this.currentConnectedSortable || this.currentConnectedSortable === this || item.element === this.currentItem) {\n\t\t\t\tconst { width, height, left, top } = offset(item.element);\n\n\t\t\t\titem.width = width;\n\t\t\t\titem.height = height;\n\t\t\t\titem.left = left;\n\t\t\t\titem.top = top;\n\t\t\t}\n\t\t});\n\n\t\tthis.connectedSortables.forEach(sortable => sortable.cacheElementProportions());\n\t}\n\n\tfindItem(event) {\n\t\tlet currentItem = getParents(event.target).find(element => element !== this.element && element[this.dataProperty] === this);\n\n\t\tif (!currentItem && event.target !== this.element && event.target[this.dataProperty] === this) {\n\t\t\tcurrentItem = event.target;\n\t\t}\n\n\t\treturn currentItem;\n\t}\n\n\tfindItems(filter = null, currentItem = null) {\n\t\tlet response = [];\n\t\tconst { items } = this.options;\n\t\tconst mapToItem = item => {\n\t\t\titem[this.dataProperty] = this;\n\n\t\t\treturn {\n\t\t\t\telement: item,\n\t\t\t\tinstance: this,\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 0\n\t\t\t};\n\t\t};\n\n\t\tif (isFunction(items)) {\n\t\t\tresponse = items({\n\t\t\t\toptions: this.options,\n\t\t\t\titem: currentItem || this.currentItem\n\t\t\t});\n\t\t\tif (!Array.isArray(response)) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t} else {\n\t\t\tresponse = items ? querySelectorAll(this.element, items) : toArray(this.element.childNodes).filter(node => node.nodeType === 1);\n\t\t}\n\n\t\treturn isFunction(filter) ? response.filter(filter).map(mapToItem) : response.map(mapToItem);\n\t}\n\n\tfindClosestItem(event, sortable) {\n\t\tlet closestItem = null;\n\t\tlet distance = 10000;\n\t\tconst floating = sortable.floating || isFloating(this.currentItem);\n\t\tlet nearBottom = false;\n\t\tlet posValue = null;\n\t\tconst eventProp = floating ? 'pageX' : 'pageY';\n\n\t\tthis.items.forEach(item => {\n\t\t\tif (contains(sortable.element, item.element) && item.element !== this.currentItem) {\n\t\t\t\tnearBottom = false;\n\t\t\t\tposValue = offset(item.element)[floating ? 'left' : 'top'];\n\t\t\t\tif (event[eventProp] - posValue > item[floating ? 'width' : 'height'] / 2) {\n\t\t\t\t\tnearBottom = true;\n\t\t\t\t}\n\t\t\t\tif (Math.abs(event[eventProp] - posValue) < distance) {\n\t\t\t\t\tdistance = Math.abs(event[eventProp] - posValue);\n\t\t\t\t\tclosestItem = item;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\titem: closestItem,\n\t\t\tnearBottom\n\t\t};\n\t}\n\n\tfindHandles() {\n\t\tlet handles = [];\n\t\tconst { handle } = this.options;\n\n\t\tthis.items.forEach(item => {\n\t\t\tif (handle) {\n\t\t\t\thandles = handles.concat(querySelectorAll(item.element, handle));\n\t\t\t} else {\n\t\t\t\thandles.push(item.element);\n\t\t\t}\n\t\t});\n\n\t\treturn handles;\n\t}\n\n\tcreateHelper(event) {\n\t\tlet helperNode = null;\n\t\tconst { appendTo, helper, forceHelperSize } = this.options;\n\n\t\tif (isFunction(helper)) {\n\t\t\thelperNode = helper.apply(this.element, [event, this.currentItem]);\n\t\t} else if (helper === 'clone') {\n\t\t\thelperNode = this.currentItem.cloneNode(true);\n\t\t\thelperNode.removeAttribute('id');\n\t\t\thelperNode.removeAttribute(this.dataProperty);\n\t\t\thelperNode[this.dataProperty] = this;\n\t\t} else {\n\t\t\thelperNode = this.currentItem;\n\t\t}\n\t\tif (helperNode instanceof HTMLElement) {\n\t\t\tif (!closest(helperNode, 'body')) {\n\t\t\t\tconst parent = appendTo === 'parent' ? this.currentItem.parentNode : document.querySelector(appendTo);\n\n\t\t\t\tif (parent instanceof HTMLElement) {\n\t\t\t\t\tparent.appendChild(helperNode);\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (helperNode === this.currentItem) {\n\t\t\t\tthis.currentItemStyle = {\n\t\t\t\t\twidth: width(this.currentItem),\n\t\t\t\t\theight: height(this.currentItem),\n\t\t\t\t\tposition: style(this.currentItem, 'position'),\n\t\t\t\t\tleft: style(this.currentItem, 'left'),\n\t\t\t\t\ttop: style(this.currentItem, 'top')\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (!helperNode.style.width || forceHelperSize) {\n\t\t\t\twidth(helperNode, width(this.currentItem));\n\t\t\t}\n\t\t\tif (!helperNode.style.height || forceHelperSize) {\n\t\t\t\theight(helperNode, height(this.currentItem));\n\t\t\t}\n\n\t\t\treturn helperNode;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tcreatePlaceholder() {\n\t\tif (!this.placeholder) {\n\t\t\tconst nodeName = this.currentItem.nodeName.toLowerCase();\n\t\t\tconst element = document.createElement(nodeName);\n\n\t\t\telement.className = this.currentItem.className;\n\t\t\taddClass(element, this.placeholderClass);\n\t\t\tremoveClass(element, this.helperClass);\n\t\t\tif (nodeName === 'thead' || nodeName === 'tbody') {\n\t\t\t\tconst tableRow = document.createElement('tr');\n\n\t\t\t\telement.appendChild(tableRow);\n\t\t\t\tthis.createTableRowPlaceholder(this.currentItem.querySelector('tr'), tableRow, nodeName === 'thead' ? 'th' : 'tr');\n\t\t\t} else if (nodeName === 'tr') {\n\t\t\t\tthis.createTableRowPlaceholder(this.currentItem, element, 'tr');\n\t\t\t} else if (nodeName === 'img') {\n\t\t\t\telement.setAttribute('src', this.currentItem.getAttribute('src'));\n\t\t\t}\n\t\t\t//style(element, {\n\t\t\t//\tvisibility: 'hidden'\n\t\t\t//});\n\t\t\tthis.placeholder = insertAfter(element, this.currentItem);\n\t\t\tthis.updatePlaceholder(this, element);\n\t\t} else {\n\t\t\tthis.updatePlaceholder(this, this.placeholder);\n\t\t}\n\t}\n\n\tcreateTableRowPlaceholder(sourceRow, newRow, childTag) {\n\t\tquerySelectorAll(sourceRow, childTag).forEach(child => {\n\t\t\tconst newChild = document.createElement(childTag);\n\n\t\t\tnewChild.innerHTML = '&#160;';\n\t\t\tnewChild.setAttribute('colspan', child.getAttribute('colspan'));\n\t\t\tnewRow.appendChild(newChild);\n\t\t});\n\t}\n\n\tupdatePlaceholder(sortable, placeholder) {\n\t\tconst { forcePlaceholderSize } = sortable.options;\n\n\t\tif (placeholder && forcePlaceholderSize) {\n\t\t\tif (!width(placeholder)) {\n\t\t\t\twidth(\n\t\t\t\t\tplaceholder,\n\t\t\t\t\twidth(this.currentItem) + styleAsNumber(this.currentItem, 'paddingLeft') + styleAsNumber(this.currentItem, 'paddingRight')\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (!height(placeholder)) {\n\t\t\t\theight(\n\t\t\t\t\tplaceholder,\n\t\t\t\t\theight(this.currentItem) + styleAsNumber(this.currentItem, 'paddingTop') + styleAsNumber(this.currentItem, 'paddingBottom')\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tcacheMargins() {\n\t\tthis.margins = {\n\t\t\tleft: parseInt(style(this.currentItem, 'marginLeft'), 10) || 0,\n\t\t\ttop: parseInt(style(this.currentItem, 'marginTop'), 10) || 0,\n\t\t\tright: parseInt(style(this.currentItem, 'marginRight'), 10) || 0,\n\t\t\tbottom: parseInt(style(this.currentItem, 'marginBottom'), 10) || 0\n\t\t};\n\t}\n\n\tcacheElementProportions() {\n\t\tthis.elementProportions = offset(this.element);\n\t}\n\n\tcalculateOffsets(event) {\n\t\tconst itemOffset = offset(this.currentItem);\n\n\t\tthis.offset.click = {\n\t\t\tleft: event.pageX - itemOffset.left - this.margins.left,\n\t\t\ttop: event.pageY - itemOffset.top - this.margins.top\n\t\t};\n\t\tthis.offset.parent = this.getParentOffset();\n\t\tthis.offset.relative = this.getRelativeOffset();\n\t}\n\n\tgetParentOffset() {\n\t\tthis.helperAttrs.offsetParent = offsetParent(this.helper);\n\n\t\treturn super.getParentOffset();\n\t}\n\n\tcalculatePosition(event, constraint = true) {\n\t\tconst { pageX, pageY } = constraint ? this.constraintPosition(event) : event;\n\t\tlet { scrollParent } = this.helperAttrs;\n\t\tconst { cssPosition, offsetParent } = this.helperAttrs;\n\t\tlet scrollIsRoot = isRoot(scrollParent);\n\n\t\tif (cssPosition === 'absolute' && !(scrollParent !== document && contains(scrollParent, offsetParent))) {\n\t\t\tscrollParent = offsetParent;\n\t\t\tscrollIsRoot = isRoot(scrollParent);\n\t\t}\n\n\t\tif (cssPosition === 'relative' && scrollParent === document && scrollParent !== offsetParent) {\n\t\t\tthis.offset.relative = this.getRelativeOffset();\n\t\t}\n\n\t\tthis.offset.scroll = {\n\t\t\tleft: scrollLeft(scrollParent),\n\t\t\ttop: scrollTop(scrollParent)\n\t\t};\n\n\t\tconst { click, parent, relative, scroll } = this.offset;\n\t\tconst position = {\n\t\t\tleft: pageX - click.left - parent.left - relative.left + (cssPosition === 'fixed' ? -scroll.left : scrollIsRoot ? 0 : scroll.left),\n\t\t\ttop: pageY - click.top - parent.top - relative.top + (cssPosition === 'fixed' ? -scroll.top : scrollIsRoot ? 0 : scroll.top)\n\t\t};\n\n\t\tif (!this.position.original) {\n\t\t\tthis.position.original = position;\n\t\t}\n\t\tthis.position.current = position;\n\t\tthis.position.absolute = this.convertPosition(position, 'absolute');\n\t}\n\n\tconvertPosition(position, to) {\n\t\tlet { scrollParent } = this.helperAttrs;\n\t\tconst { cssPosition, offsetParent } = this.helperAttrs;\n\t\tconst { parent, relative } = this.offset;\n\t\tconst factor = to === 'absolute' ? 1 : -1;\n\t\tlet scrollIsRoot = isRoot(scrollParent);\n\n\t\tif (cssPosition === 'absolute' && !(scrollParent !== document && contains(scrollParent, offsetParent))) {\n\t\t\tscrollParent = offsetParent;\n\t\t\tscrollIsRoot = isRoot(scrollParent);\n\t\t}\n\n\t\treturn {\n\t\t\tleft:\n\t\t\t\tposition.left +\n\t\t\t\tparent.left * factor +\n\t\t\t\trelative.left * factor -\n\t\t\t\t(cssPosition === 'fixed' ? -scrollLeft(scrollParent) : (scrollIsRoot ? 0 : scrollLeft(scrollParent)) * factor),\n\t\t\ttop:\n\t\t\t\tposition.top +\n\t\t\t\tparent.top * factor +\n\t\t\t\trelative.top * factor -\n\t\t\t\t(cssPosition === 'fixed' ? -scrollTop(scrollParent) : (scrollIsRoot ? 0 : scrollTop(scrollParent)) * factor)\n\t\t};\n\t}\n\n\tgetDragDirection(axis) {\n\t\tconst delta = this.position.absolute[axis === 'x' ? 'left' : 'top'] - this.previousPosition[axis === 'x' ? 'left' : 'top'];\n\n\t\treturn delta !== 0 ? (delta > 0 ? (axis === 'x' ? 'right' : 'down') : axis === 'x' ? 'left' : 'up') : null;\n\t}\n\n\tgetPointerIntersection(item) {\n\t\tconst { axis } = this.options;\n\t\tconst { click } = this.offset;\n\t\tconst { absolute } = this.position;\n\t\tconst pointer = {\n\t\t\tx: absolute.left + click.left,\n\t\t\ty: absolute.top + click.top\n\t\t};\n\t\tconst isOverItem =\n\t\t\t(axis === 'y' || (pointer.x >= item.left && pointer.x < item.left + item.width)) &&\n\t\t\t(axis === 'x' || (pointer.y >= item.top && pointer.y < item.top + item.height));\n\n\t\tif (!isOverItem) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tconst dragDirectionX = this.getDragDirection('x');\n\t\tconst dragDirectionY = this.getDragDirection('y');\n\n\t\treturn this.floating ? (dragDirectionX === 'right' || dragDirectionY === 'bottom' ? 2 : 1) : dragDirectionY === 'down' ? 2 : 1;\n\t}\n\n\tintersectsWith(compareWith) {\n\t\tconst { axis, tolerance } = this.options;\n\t\tconst { width, height } = this.helperSize;\n\t\tconst { click } = this.offset;\n\t\tconst { absolute } = this.position;\n\t\tconst proportions = {\n\t\t\tleft: absolute.left + click.left,\n\t\t\ttop: absolute.top + click.top,\n\t\t\tright: absolute.left + click.left + width,\n\t\t\tbottom: absolute.top + click.top + height,\n\t\t\twidth,\n\t\t\theight\n\t\t};\n\n\t\tif (tolerance === 'pointer' || (this.floating && width > compareWith.width) || (!this.floating && height > compareWith.height)) {\n\t\t\treturn (\n\t\t\t\t(axis === 'y' || (proportions.left > compareWith.left && proportions.left < compareWith.left + compareWith.width)) &&\n\t\t\t\t(axis === 'x' || (proportions.top > compareWith.top && proportions.top < compareWith.top + compareWith.height))\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\tcompareWith.left < absolute.left + width / 2 &&\n\t\t\tcompareWith.left + compareWith.width > absolute.left + width / 2 &&\n\t\t\tcompareWith.top < absolute.top + height / 2 &&\n\t\t\tcompareWith.top + compareWith.height > absolute.top + height / 2\n\t\t);\n\t}\n\n\tintersectsWithSides(item) {\n\t\tconst { width, height, left, top } = item;\n\t\tconst { click } = this.offset;\n\t\tconst { absolute } = this.position;\n\t\tconst pointer = {\n\t\t\tx: absolute.left + click.left,\n\t\t\ty: absolute.top + click.top\n\t\t};\n\t\tconst itemCenter = {\n\t\t\tx: left + width / 2,\n\t\t\ty: top + height / 2\n\t\t};\n\t\tconst dragDirectionX = this.getDragDirection('x');\n\t\tconst dragDirectionY = this.getDragDirection('y');\n\n\t\tif (this.floating && dragDirectionX) {\n\t\t\treturn (\n\t\t\t\t(dragDirectionX === 'right' && pointer.x >= itemCenter.x && pointer.x < itemCenter.x + width) ||\n\t\t\t\t(dragDirectionX === 'left' && !(pointer.x >= itemCenter.x && pointer.x < itemCenter.x + width))\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t(dragDirectionY === 'down' && pointer.y >= itemCenter.y && pointer.y < itemCenter.y + height) ||\n\t\t\t(dragDirectionY === 'up' && !(pointer.y >= itemCenter.y && pointer.y < itemCenter.y + height))\n\t\t);\n\t}\n\n\tcontactSortables(event) {\n\t\tlet activeSortable = null;\n\t\tlet closestItem = null;\n\t\tconst changeEvent = new SortableChangeEvent({\n\t\t\tsortable: this\n\t\t});\n\n\t\tthis.connectedSortables.forEach(sortable => {\n\t\t\tif (!contains(this.currentItem, sortable.element)) {\n\t\t\t\tif (this.intersectsWith(sortable.elementProportions)) {\n\t\t\t\t\tif (!activeSortable || !contains(sortable.element, activeSortable.element)) {\n\t\t\t\t\t\tactiveSortable = sortable;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsortable.out(this);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (activeSortable) {\n\t\t\tif (this.connectedSortables.length === 1) {\n\t\t\t\tactiveSortable.over(null);\n\t\t\t} else {\n\t\t\t\tclosestItem = this.findClosestItem(event, activeSortable);\n\t\t\t\tif (closestItem.item || this.options.dropOnEmpty) {\n\t\t\t\t\tif (this.currentConnectedSortable === activeSortable) {\n\t\t\t\t\t\tactiveSortable.over(this);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (closestItem.item) {\n\t\t\t\t\t\t\tthis.rearrange(null, closestItem.item, closestItem.nearBottom ? 'up' : 'down');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.rearrange(activeSortable.element);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.trigger(changeEvent);\n\t\t\t\t\t\tactiveSortable.over(this);\n\t\t\t\t\t\tactiveSortable.trigger(changeEvent);\n\t\t\t\t\t\tthis.currentConnectedSortable = activeSortable;\n\t\t\t\t\t\tthis.updatePlaceholder(activeSortable, this.placeholder);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\trearrange(parentEl = null, refItem = null, direction = null) {\n\t\tif (parentEl instanceof HTMLElement) {\n\t\t\tparentEl.appendChild(this.placeholder);\n\t\t} else if (refItem && refItem.element instanceof HTMLElement) {\n\t\t\trefItem.element.parentNode.insertBefore(this.placeholder, direction === 'down' ? refItem.element : refItem.element.nextSibling);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.rearrangeIteration = this.rearrangeIteration ? this.rearrangeIteration++ : 1;\n\t\tconst iteration = this.rearrangeIteration;\n\n\t\tsetTimeout(() => {\n\t\t\tif (iteration === this.rearrangeIteration) {\n\t\t\t\tthis.refreshPositions();\n\t\t\t}\n\t\t});\n\t}\n\n\tclear() {\n\t\tif (this.helper && this.currentItem) {\n\t\t\tinsertBefore(this.currentItem, this.placeholder);\n\t\t\tif (this.helper === this.currentItem) {\n\t\t\t\tforEach(this.currentItemStyle, (value, prop) => {\n\t\t\t\t\tif (value === 'auto' || value === 'static') {\n\t\t\t\t\t\tthis.currentItemStyle[prop] = '';\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tstyle(this.currentItem, this.currentItemStyle);\n\t\t\t} else {\n\t\t\t\tshow(this.currentItem);\n\t\t\t}\n\t\t\tif (this.resetCurrentItem) {\n\t\t\t\tconst { previous, parent } = this.currentItemRefs;\n\n\t\t\t\tif (previous) {\n\t\t\t\t\tinsertAfter(this.currentItem, previous);\n\t\t\t\t} else {\n\t\t\t\t\tinsertBefore(this.currentItem, parent.firstElementChild);\n\t\t\t\t}\n\t\t\t\tthis.resetCurrentItem = false;\n\t\t\t}\n\t\t}\n\t\tif (this.connectedDraggable) {\n\t\t\tthis.trigger(\n\t\t\t\tnew SortableReceiveEvent({\n\t\t\t\t\tsortable: this,\n\t\t\t\t\titem: this.connectedDraggable.element,\n\t\t\t\t\tdraggable: this.connectedDraggable\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\tif (\n\t\t\tthis.connectedDraggable ||\n\t\t\tthis.currentItemRefs.previous !== getSibling(this.currentItem, 'previous', `.${this.helperClass}`) ||\n\t\t\tthis.currentItemRefs.parent !== this.currentItem.parentNode\n\t\t) {\n\t\t\tthis.trigger(\n\t\t\t\tnew SortableUpdateEvent({\n\t\t\t\t\tsortable: this\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\tif (this.currentConnectedSortable !== this) {\n\t\t\tthis.trigger(\n\t\t\t\tnew SortableRemoveEvent({\n\t\t\t\t\tsortable: this,\n\t\t\t\t\titem: this.currentItem,\n\t\t\t\t\tpeerSortable: this.currentConnectedSortable\n\t\t\t\t})\n\t\t\t);\n\t\t\tthis.currentConnectedSortable.trigger(\n\t\t\t\tnew SortableReceiveEvent({\n\t\t\t\t\tsortable: this.currentConnectedSortable,\n\t\t\t\t\titem: this.currentItem,\n\t\t\t\t\tpeerSortable: this\n\t\t\t\t})\n\t\t\t);\n\t\t\tthis.currentConnectedSortable.trigger(\n\t\t\t\tnew SortableUpdateEvent({\n\t\t\t\t\tsortable: this.currentConnectedSortable\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\tthis.connectedSortables.forEach(sortable => {\n\t\t\tsortable.out(this);\n\t\t\tsortable.trigger(\n\t\t\t\tnew SortableDeactivateEvent({\n\t\t\t\t\tsortable,\n\t\t\t\t\tpeerSortable: this\n\t\t\t\t})\n\t\t\t);\n\t\t});\n\t\tif (this.placeholder) {\n\t\t\tif (this.placeholder.parentNode) {\n\t\t\t\tthis.placeholder.parentNode.removeChild(this.placeholder);\n\t\t\t}\n\t\t\tthis.placeholder = null;\n\t\t}\n\t\tif (this.helper) {\n\t\t\tremoveClass(this.helper, this.helperClass);\n\t\t\tif (this.helper !== this.currentItem && !this.cancelHelperRemoval) {\n\t\t\t\tthis.helper.parentNode.removeChild(this.helper);\n\t\t\t}\n\t\t\tthis.cancelHelperRemoval = false;\n\t\t\tthis.helper = null;\n\t\t}\n\t\tthis.connectedDraggable = null;\n\t\tthis.currentItem = null;\n\t\tthis.currentItemRefs = null;\n\t\tthis.dragging = false;\n\t\tif (this.pendingDestroy) {\n\t\t\tthis.destroy();\n\t\t\tthis.pendingDestroy = false;\n\t\t}\n\t}\n}\n","import { Plugin } from './plugin';\nimport { Sensor } from './sensor';\nimport { Draggable } from './draggable';\nimport Droppable from './droppable';\nimport DragDropManager from './manager';\nimport Sortable from './sortable';\n\nexport { Plugin, Sensor, Draggable, Droppable, DragDropManager, Sortable };\n\nexport default {\n\tPlugin,\n\tSensor,\n\tDraggable,\n\tDroppable,\n\tDragDropManager,\n\tSortable\n};\n"],"names":["isUndefined_1","value","undefined","Plugin","draggable","constructor","this","startEvent","isUndefined","items","moveEvent","stopEvent","attach","on","onDragStart","onDragMove","onDragStop","detach","off","event","constraintPosition","pos","ownerDocument","node","document","addClass","element","className","classList","add","contains","baseVal","indexOf","hasClass","setAttribute","canUseDOM","window","createElement","optionsSupported","onceSupported","options","passive","once","addEventListener","removeEventListener","e","getComputedStyle","psuedoElement","doc","defaultView","ownerWindow","rUpper","msPattern","hyphenateStyleName","string","replace","toLowerCase","hyphenate","supportedTransforms","style","property","css","transforms","getPropertyValue","Object","keys","forEach","key","test","isTransform","removeProperty","cssText","listen","eventName","handler","capture","wrappedHandler","__once","onceHandler","call","prev","Date","getTime","matchesImpl","rafImpl","fn","curr","ms","Math","max","handle","setTimeout","getKey","vendor","k","toUpperCase","substr","matches","selector","body","nativeMatch","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","n","s","closest","stopAt","nextNode","parentElement","nodeType","ELEMENT_NODE","context","compareDocumentPosition","some","rafMethod","cb","Function","prototype","bind","slice","toArray","qsa","querySelectorAll","isDocument","DOCUMENT_NODE","isWindow","getscrollAccessor","offset","prop","val","win","scrollTo","getScrollAccessor","box","top","left","height","width","docElem","documentElement","getBoundingClientRect","scrollTop","clientTop","scrollLeft","clientLeft","client","getWindow","innerHeight","clientHeight","offsetParent","parent","nodeName","_extends","assign","target","i","arguments","length","source","hasOwnProperty","apply","replaceClassName","origClass","classToRemove","RegExp","removeClass","remove","scrollParent","firstPossible","position","excludeStatic","ownerDoc","parentNode","isStatic","scrollHeight","getWidth","innerWidth","clientWidth","AbstractEvent","static","data","canceled","type","cancelable","cancel","SensorEvent","pageX","pageY","caller","originalEvent","MouseStartEvent","MouseMoveEvent","MouseStopEvent","getParents","until","parents","push","containsStrict","reference","insertBefore","insertAfter","nextSibling","appendChild","createMouseStopEvent","createEvent","initEvent","triggerEvent","dispatchEvent","blurActiveElement","active","activeElement","isFloating","setPositionRelative","setPositionAbsolute","styleAsNumber","parseInt","includeHidden","regex","filtered","filter","isRoot","includeBody","instance","DragDropManager","droppables","getDroppables","scope","addDroppable","droppable","removeDroppable","item","prepareOffsets","refreshVisibility","visible","accept","activate","refreshProportions","intersects","intersect","isOver","parentDroppable","greedy","dataProperty","greedyChild","out","over","drop","dropped","deactivate","DragDropManager$1","AutoScroll","scrollParentOffset","super","scroll","helperAttrs","scrolled","sensorEvent","helperSize","click","axis","scrollSensitivity","scrollSpeed","offsetWidth","offsetHeight","AxisConstraint","SortableEvent","sortable","SortableInitEvent","SortableActivateEvent","peerSortable","SortableOverEvent","SortableChangeEvent","SortableRemoveEvent","SortableReceiveEvent","SortableUpdateEvent","SortableOutEvent","SortableDeactivateEvent","SortableDestroyEvent","sortableProp","ConnectToSortable","connectToSortable","connectedSortables","disabled","refreshPositions","trigger","intersecting","absolute","intersectsWith","elementProportions","innerSortable","isDraggableOver","previousHelperParent","helper","previousHelper","currentItem","connectedDraggable","detail","current","previousRevert","revert","cancelHelperRemoval","placeholder","removeChild","calculateOffsets","calculatePosition","droppedSortable","currentItemStyle","ContainmentConstraint","containment","containmentCoords","relative","margins","pageXOffset","pageYOffset","Array","isArray","querySelector","scrollable","containmentContainer","scrollWidth","right","bottom","xMin","yMin","xMax","yMax","containerOffset","GridConstraint","grid","x","y","round","StackController","stack","sorted","sort","a","b","min","idx","zIndex","StyleDecorator","previousValue","HTMLElement","propertyCache","isSortableInDraggable","getPreviousValue","entry","find","Sensor","lastEvent","preventDefault","MouseSensor","mouseMoved","onMouseDown","onMouseUp","which","button","ctrlKey","metaKey","skip","checkThresholds","distance","abs","startDrag","mouseStart","onMouseMove","elementFromPoint","clearTimeout","startTimeout","defaultInstanceSettings","update","begin","loopBegin","changeBegin","change","changeComplete","loopComplete","complete","loop","direction","autoplay","timelineOffset","defaultTweenSettings","duration","delay","endDelay","easing","validTransforms","cache","CSS","springs","minMax","stringContains","str","text","applyArguments","func","args","is","arr","obj","toString","pth","svg","SVGElement","inp","HTMLInputElement","dom","fnc","und","nil","hex","rgb","hsl","col","parseEasingParameters","match","exec","split","map","p","parseFloat","spring","params","mass","stiffness","damping","velocity","w0","sqrt","zeta","wd","solver","t","progress","exp","cos","sin","cached","frame","elapsed","rest","steps","ceil","eases","functionEasings","bezier","kSampleStepSize","A","aA1","aA2","B","C","calcBezier","aT","getSlope","mX1","mY1","mX2","mY2","sampleValues","Float32Array","getTForX","aX","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","penner","linear","Sine","PI","Circ","Back","Bounce","pow2","pow","Elastic","amplitude","period","asin","name","easeIn","parseEasings","ease","selectString","filterArray","callback","len","thisArg","result","flattenArray","reduce","concat","o","NodeList","HTMLCollection","arrayContains","cloneObject","clone","replaceObjectProps","o1","o2","mergeObjects","colorToRgb","rgbValue","hexValue","m","r","g","hexToRgba","hslValue","h","l","hue2rgb","q","hslToRgba","getUnit","getFunctionValue","animatable","id","total","getAttribute","el","convertPxToUnit","unit","tempEl","tagName","parentEl","factor","convertedUnit","getCSSValue","uppercasePropName","getAnimationType","getElementTransforms","transform","reg","Map","set","getTransformValue","propName","defaultVal","getTransformUnit","get","list","getOriginalTargetValue","getRelativeValue","to","from","operator","u","validateValue","originalUnit","unitLess","getDistance","p1","p2","getPolylineLength","previousPos","points","totalLength","numberOfItems","currentPos","getItem","getTotalLength","getCircleLength","getRectLength","getLineLength","getPolygonLength","getParentSvg","pathEl","svgData","parentSvgEl","getParentSvgEl","rect","viewBoxAttr","viewBox","w","vW","vH","getPathProgress","path","isPathTargetInsideSVG","point","getPointAtLength","p0","scaleX","scaleY","atan2","decomposeValue","rgx","original","numbers","Number","strings","parseTargets","targets","self","getAnimatables","parsed","normalizePropertyTweens","tweenSettings","settings","propArray","v","getProperties","properties","keyframes","propertyNames","newKey","flattenKeyframes","tweens","normalizeTweens","previousTween","tween","normalizeTweenValues","tweenValue","toUnit","originalValue","fromUnit","start","end","isPath","isColor","setProgressValue","attribute","object","manual","last","setTargetsValue","valueUnit","animType","getAnimations","animatables","lastTween","createAnimation","getInstanceTimings","animations","animLength","getTlOffset","anim","timings","instanceID","activeInstances","engine","raf","step","activeInstancesLength","activeInstance","paused","splice","tick","requestAnimationFrame","anime","suspendWhenDocumentHidden","isDocumentHidden","cancelAnimationFrame","_onDocumentVisibility","hidden","children","startTime","lastTime","now","childrenLength","resolve","makePromise","promise","Promise","_resolve","finished","instanceSettings","createNewInstance","toggleInstanceDirection","reversed","child","adjustTime","time","resetTime","currentTime","speed","seekChild","seek","setAnimationsProgress","insTime","animationsLength","tweenLength","eased","isNaN","toNumbersLength","toNumber","fromNumber","stringsLength","n$1","currentValue","setCallback","passThrough","setInstanceProgress","engineTime","insDuration","insDelay","insEndDelay","reversePlayback","i$1","syncInstanceChildren","began","loopBegan","changeBegan","changeCompleted","remaining","completed","reset","pause","play","reverse","restart","removeTargetsFromInstance","removeTargetsFromAnimations","targetsArray","c","childAnimations","version","running","convertPx","percent","setDashoffset","pathLength","stagger","fromIndex","fromFirst","fromCenter","fromLast","isRange","val1","val2","values","maxValue","index","fromX","fromY","floor","distanceX","distanceY","timeline","tl","instanceParams","tlIndex","ins","insParams","tlDuration","random","_arrayEach","array","iteratee","_createBaseFor","fromRight","keysFunc","iterable","props","_baseFor","createBaseFor","_baseTimes","_freeGlobal","global","freeSelf","_root","freeGlobal","_Symbol","root","Symbol","objectProto","nativeObjectToString","symToStringTag","toStringTag","_getRawTag","isOwn","tag","unmasked","_objectToString","_baseGetTag","getRawTag","objectToString","isObjectLike_1","_baseIsArguments","isObjectLike","baseGetTag","propertyIsEnumerable","isArguments","baseIsArguments","isArguments_1","isArray_1","stubFalse_1","freeExports","exports","freeModule","module","Buffer","isBuffer","stubFalse","reIsUint","_isIndex","isLength_1","typedArrayTags","_baseIsTypedArray","isLength","_baseUnary","freeProcess","process","nodeUtil","types","require","binding","nodeIsTypedArray","isTypedArray","isTypedArray_1","baseUnary","baseIsTypedArray","_arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","baseTimes","String","isIndex","_isPrototype","Ctor","_overArg","arg","_nativeKeys","overArg","_baseKeys","isPrototype","nativeKeys","isObject_1","isFunction_1","isObject","isArrayLike_1","isFunction","keys_1","isArrayLike","arrayLikeKeys","baseKeys","_createBaseEach","eachFunc","collection","_baseEach","createBaseEach","baseFor","identity_1","_castFunction","identity","forEach_1","arrayEach","baseEach","castFunction","_getPrototype","getPrototypeOf","funcProto","funcToString","objectCtorString","ReflectOwnKeys","isPlainObject_1","proto","getPrototype","R","Reflect","ReflectApply","receiver","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","EventEmitter","init","events","once_1","emitter","reject","errorListener","err","removeListener","resolver","eventTargetAgnosticAddListener","flags","addErrorHandlerIfEventEmitter","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","prepend","existing","warning","create","newListener","emit","unshift","warned","Error","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","ret","unwrapListeners","arrayClone","listenerCount","copy","wrapListener","defineProperty","enumerable","RangeError","setMaxListeners","getMaxListeners","doError","error","er","message","listeners","addListener","prependListener","prependOnceListener","originalListener","shift","pop","spliceOne","removeAllListeners","rawListeners","eventNames","CancelableEventEmitter","wrappedListeners","DraggableEvent","DraggableInitEvent","DraggableDestroyEvent","DragEvent","DragStartEvent","DragMoveEvent","DragStopEvent","Draggable","appendTo","cursor","opacity","revertDuration","dragging","reverting","plugins","sensors","pendingDestroy","scrollListeners","defaultOptions","isPlainObject","setup","addPlugin","plugin","addSensor","sensor","setDisabled","onDragCancel","clear","destroy","elementClass","findHandles","handleClass","helperClass","proportions","isInsideHandle","createHelper","cacheMargins","cacheHelperSize","cacheHelperAttrs","dragStart","noPropagation","hasFixedParent","getParentOffset","dragMove","dragStop","convertPosition","handles","inside","helperNode","cloneNode","removeAttribute","cssPosition","getRelativeOffset","parentOffset","getOffsetParent","getOffset","borderTop","borderLeft","marginTop","marginLeft","scrollIsRoot","constraint","DroppableEvent","DroppableInitEvent","DroppableActivateEvent","DroppableOverEvent","DroppableDropEvent","DroppableOutEvent","DroppableDeactivateEvent","DroppableDestroyEvent","Droppable","tolerance","size","activeClass","hoverClass","childIntersection","SortEvent","SortStartEvent","SortMoveEvent","SortStopEvent","Sortable","connectWith","dropOnEmpty","forceHelperSize","forcePlaceholderSize","currentConnectedSortable","currentItemRefs","floating","previousPosition","resetCurrentItem","rearrangeIteration","placeholderClass","refresh","noActivation","forceOwnership","refreshItems","findItem","previous","previousElementSibling","createPlaceholder","previousDisplay","display","sortStart","sortMove","foundItem","intersection","getPointerIntersection","intersectsWithSides","rearrange","contactSortables","sortStop","findItems","cacheElementProportions","response","mapToItem","childNodes","findClosestItem","closestItem","nearBottom","posValue","eventProp","updatePlaceholder","tableRow","createTableRowPlaceholder","sourceRow","newRow","childTag","newChild","innerHTML","itemOffset","getDragDirection","delta","pointer","dragDirectionX","dragDirectionY","compareWith","itemCenter","activeSortable","changeEvent","refItem","iteration","firstElementChild","sibling","getSibling"],"mappings":"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"}